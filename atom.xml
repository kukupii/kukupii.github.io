<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Loplooop</title>
  
  <subtitle>Nowhere, everywhere.</subtitle>
  <link href="https://kukupii.github.io/atom.xml" rel="self"/>
  
  <link href="https://kukupii.github.io/"/>
  <updated>2023-03-03T06:12:08.606Z</updated>
  <id>https://kukupii.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å“åº”å¼å¸ƒå±€</title>
    <link href="https://kukupii.github.io/2023/03/03/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80-1/"/>
    <id>https://kukupii.github.io/2023/03/03/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80-1/</id>
    <published>2023-03-03T06:10:33.000Z</published>
    <updated>2023-03-03T06:12:08.606Z</updated>
    
    <content type="html"><![CDATA[<p>å“åº”å¼å¸ƒå±€</p><h3 id="åª’ä½“æŸ¥è¯¢-mediaQuery"><a href="#åª’ä½“æŸ¥è¯¢-mediaQuery" class="headerlink" title="åª’ä½“æŸ¥è¯¢ mediaQuery"></a>åª’ä½“æŸ¥è¯¢ mediaQuery</h3><h4 id="ä»€ä¹ˆæ˜¯åª’ä½“æŸ¥è¯¢"><a href="#ä»€ä¹ˆæ˜¯åª’ä½“æŸ¥è¯¢" class="headerlink" title="ä»€ä¹ˆæ˜¯åª’ä½“æŸ¥è¯¢"></a>ä»€ä¹ˆæ˜¯åª’ä½“æŸ¥è¯¢</h4><p>æ¦‚å¿µï¼šä¸ºä¸åŒå°ºå¯¸çš„å±å¹•è®¾å®šä¸åŒçš„CSSæ ·å¼</p><p>ç®€å•æ¡ˆä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#div0</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åœ¨å±å¹•å®½åº¦ä¸º<span class="number">200px</span>åˆ°<span class="number">300px</span>ä¹‹é—´æ—¶ï¼Œ<span class="selector-id">#div0</span>çš„èƒŒæ™¯é¢œè‰²ä¸ºçº¢è‰²</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-device-iwdth</span>:<span class="number">200px</span>) <span class="keyword">and</span> (<span class="attribute">max-device-iwdth</span>:<span class="number">300px</span>)&#123;</span><br><span class="line">    <span class="selector-id">#div0</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// åœ¨å±å¹•å®½åº¦ä¸º<span class="number">301px</span>åˆ°<span class="number">500px</span>ä¹‹é—´æ—¶ï¼Œ<span class="selector-id">#div0</span>çš„èƒŒæ™¯é¢œè‰²ä¸ºç»¿è‰²</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-device-iwdth</span>:<span class="number">301px</span>) <span class="keyword">and</span> (<span class="attribute">max-device-iwdth</span>:<span class="number">500px</span>)&#123;</span><br><span class="line">    <span class="selector-id">#div0</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:green;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="mediaå¸¸ç”¨å‚æ•°"><a href="#mediaå¸¸ç”¨å‚æ•°" class="headerlink" title="@mediaå¸¸ç”¨å‚æ•°"></a>@mediaå¸¸ç”¨å‚æ•°</h4><p>width, height &#x3D;&gt; æµè§ˆå™¨å¯è§†å®½åº¦ï¼Œé«˜åº¦</p><p>device-width, device-height &#x3D;&gt; è®¾å¤‡å±å¹•çš„å®½åº¦ï¼Œé«˜åº¦</p><h4 id="åª’ä½“æŸ¥è¯¢å¼•å…¥æ–¹å¼"><a href="#åª’ä½“æŸ¥è¯¢å¼•å…¥æ–¹å¼" class="headerlink" title="åª’ä½“æŸ¥è¯¢å¼•å…¥æ–¹å¼"></a>åª’ä½“æŸ¥è¯¢å¼•å…¥æ–¹å¼</h4><ol><li><p>å†™åœ¨<code>style</code>æ ‡ç­¾ä¸­ï¼Œæœ‰æ¡ä»¶çš„æ‰§è¡ŒæŸä¸ªå†…éƒ¨æ ·å¼è¡¨ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">&quot;(min-device-width:100px) and (max-device-iwdth:300px)&quot;</span>&gt;</span></span><br><span class="line">  #div0&#123;</span><br><span class="line">      ...</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>link</code>å¼•å…¥ï¼Œå†™åœ¨linkæ ‡ç­¾ä¸­ï¼Œæœ‰æ¡ä»¶çš„å¼•å…¥å¤–éƒ¨æ ·å¼è¡¨ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;css/test.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;css/css-1.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">media</span>=<span class="string">&quot;(min-device-width:100px) and (max-device-iwdth:300px)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="flexå¼¹æ€§å¸ƒå±€"><a href="#flexå¼¹æ€§å¸ƒå±€" class="headerlink" title="flexå¼¹æ€§å¸ƒå±€"></a>flexå¼¹æ€§å¸ƒå±€</h3><h4 id="for-parent-element"><a href="#for-parent-element" class="headerlink" title="for parent element"></a>for parent element</h4><h5 id="ä¸»è½´æ–¹å‘ä¸æ¢è¡Œ"><a href="#ä¸»è½´æ–¹å‘ä¸æ¢è¡Œ" class="headerlink" title="ä¸»è½´æ–¹å‘ä¸æ¢è¡Œ"></a>ä¸»è½´æ–¹å‘ä¸æ¢è¡Œ</h5><p><strong>flex-direction</strong>ï¼šå­å…ƒç´ åœ¨çˆ¶å…ƒç´ ç›’å­ä¸­çš„æ’åˆ—æ–¹å¼</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>row</td><td>é»˜è®¤å€¼ã€‚çµæ´»çš„é¡¹ç›®å°†æ°´å¹³æ˜¾ç¤ºï¼Œæ­£å¦‚ä¸€ä¸ªè¡Œä¸€æ ·ã€‚</td></tr><tr><td>row-reverse</td><td>ä¸ row ç›¸åŒï¼Œä½†æ˜¯ä»¥ç›¸åçš„é¡ºåºã€‚</td></tr><tr><td>column</td><td>çµæ´»çš„é¡¹ç›®å°†å‚ç›´æ˜¾ç¤ºï¼Œæ­£å¦‚ä¸€ä¸ªåˆ—ä¸€æ ·ã€‚</td></tr><tr><td>column-reverse</td><td>ä¸ column ç›¸åŒï¼Œä½†æ˜¯ä»¥ç›¸åçš„é¡ºåºã€‚</td></tr><tr><td>initial</td><td>è®¾ç½®è¯¥å±æ€§ä¸ºå®ƒçš„é»˜è®¤å€¼ã€‚è¯·å‚é˜…Â <a href="http://edu.jb51.net/cssref/cssref-initial.html"><em>initial</em></a>ã€‚</td></tr><tr><td>inherit</td><td>ä»çˆ¶å…ƒç´ ç»§æ‰¿è¯¥å±æ€§ã€‚è¯·å‚é˜…Â <a href="http://edu.jb51.net/cssref/cssref-inherit.html"><em>inherit</em></a>ã€‚</td></tr></tbody></table><p><strong>flex-wrap</strong>ï¼šå­å…ƒç´ åœ¨çˆ¶å…ƒç´ ç›’å­é‡Œæ˜¯å¦æ¢è¡Œï¼ˆåˆ—ï¼‰</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>nowrap</td><td>é»˜è®¤å€¼ã€‚ä¸æ¢è¡Œæˆ–ä¸æ¢åˆ—ã€‚</td></tr><tr><td>wrap</td><td>æ¢è¡Œæˆ–æ¢åˆ—ã€‚</td></tr><tr><td>wrap-reverse</td><td>æ¢è¡Œæˆ–æ¢åˆ—ï¼Œä½†ä»¥ç›¸åçš„é¡ºåºã€‚</td></tr></tbody></table><p><strong>flex-flow</strong>ï¼šflex-directionå’Œflex-wrapå±æ€§çš„ç®€å†™å½¢å¼ã€‚eg: flex-flow: row wrap;</p><h5 id="å‰©ä½™ç©ºé—´è°ƒæ•´ä¸ºé—´è·"><a href="#å‰©ä½™ç©ºé—´è°ƒæ•´ä¸ºé—´è·" class="headerlink" title="å‰©ä½™ç©ºé—´è°ƒæ•´ä¸ºé—´è·"></a>å‰©ä½™ç©ºé—´è°ƒæ•´ä¸ºé—´è·</h5><p><strong>justify-content</strong>ï¼šç”¨æ¥åœ¨å­˜åœ¨å‰©ä½™ç©ºé—´æ—¶ï¼Œè®¾ç½®ä¸ºé—´è·çš„æ–¹å¼ã€‚</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>flex-start</td><td>é»˜è®¤å€¼ã€‚ä»å·¦åˆ°å³ï¼ŒæŒ¨ç€è¡Œçš„å¼€å¤´ã€‚</td></tr><tr><td>flex-end</td><td>ä»å³åˆ°å·¦ï¼ŒæŒ¨ç€è¡Œçš„ç»“å°¾ã€‚</td></tr><tr><td>center</td><td>å±…ä¸­æ˜¾ç¤ºã€‚</td></tr><tr><td>space-between</td><td>å¹³å‡åˆ†å¸ƒåœ¨è¯¥è¡Œä¸Šï¼Œä¸¤è¾¹ä¸ç•™é—´éš”ç©ºé—´ã€‚</td></tr><tr><td>space-around</td><td>å¹³å‡åˆ†å¸ƒåœ¨è¯¥è¡Œä¸Šï¼Œä¸¤è¾¹ç•™ä¸€åŠçš„é—´éš”ç©ºé—´ã€‚</td></tr></tbody></table><p><strong>align-items</strong>ï¼šè®¾ç½®æ¯ä¸ªflexå…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„é»˜è®¤å¯¹é½æ–¹å¼ï¼ˆå•è¡Œï¼Œå¤šè¡Œä¸­å•ç‹¬å¤„ç†æ¯ä¸€è¡Œï¼‰</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>flex-start</td><td>ä½äºå®¹å™¨çš„å¼€å¤´ã€‚</td></tr><tr><td>flex-end</td><td>ä½äºå®¹å™¨çš„ç»“å°¾ã€‚</td></tr><tr><td>center</td><td>å±…ä¸­æ˜¾ç¤ºã€‚</td></tr></tbody></table><p><strong>align-content</strong>ï¼šè®¾ç½®æ¯ä¸ªflexå…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„é»˜è®¤å¯¹é½æ–¹å¼ï¼ˆæŠŠå¤šè¡Œå½“ä½œä¸€ä¸ªæ•´ä½“å¤„ç†ï¼‰</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>flex-start</td><td>ä½äºå®¹å™¨çš„å¼€å¤´ã€‚</td></tr><tr><td>flex-end</td><td>ä½äºå®¹å™¨çš„ç»“å°¾ã€‚</td></tr><tr><td>center</td><td>å±…ä¸­æ˜¾ç¤ºã€‚</td></tr><tr><td>space-between</td><td>ä¹‹é—´ç•™æœ‰ç©ºç™½ã€‚</td></tr><tr><td>space-around</td><td>ä¸¤ç«¯ç•™æœ‰ç©ºç™½ã€‚</td></tr></tbody></table><h4 id="for-children-elements"><a href="#for-children-elements" class="headerlink" title="for children elements"></a>for children elements</h4><table><thead><tr><th>å±æ€§å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>flex-basis</td><td>è®¾ç½®å¼¹æ€§ç›’ä¼¸ç¼©åŸºå‡†å€¼ã€‚ï¼ˆç›¸å½“äºå®½åº¦ï¼Œè®¾ç½®åŸºå‡†å€¼åï¼Œå®½åº¦ä¸å†ç”Ÿæ•ˆï¼‰</td></tr><tr><td>flex-grow</td><td>è®¾ç½®å¼¹æ€§ç›’å­çš„æ‰©å±•æ¯”ç‡ã€‚</td></tr><tr><td>flex-shrink</td><td>è®¾ç½®å¼¹æ€§ç›’å­çš„ç¼©å°æ¯”ç‡ã€‚</td></tr><tr><td>flex</td><td>ä¸Šé¢ä¸‰è€…çš„ç¼©å†™ã€‚</td></tr></tbody></table><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>flex:auto;</td><td>flex:1 1 auto;</td></tr><tr><td>flex:none;</td><td>flex:0 0 auto;</td></tr><tr><td>flex:0%;</td><td>flex:1 1 0%;</td></tr><tr><td>flex:100px;</td><td>flex:1 1 100px;</td></tr><tr><td>flex:1;</td><td>flex:1 1 0%;</td></tr></tbody></table><h3 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h3><p>æ¦‚å¿µï¼šæŒ‡ç›¸å¯¹äºæ ¹å…ƒç´ çš„å­—ä½“å¤§å°çš„å•ä½</p><p>ä½¿ç”¨åª’ä½“æŸ¥è¯¢+remæˆ–jsï¼Œåœ¨ä¸åŒå®½åº¦çš„è§†å£ä¸‹è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> <span class="title function_">changeRootFontSize</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//è·å–è®¾å¤‡çš„å®½åº¦</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> deviceWidth = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//å‡å®šä»¥20pxçš„å­—ä½“ä¸ºé»˜è®¤å¤§å°ï¼Œå½“å‰çš„å®½åº¦é™¤ä»¥é»˜è®¤å®½åº¦ã€‚ä¸€èˆ¬å­—ä½“æœ€å¤§ä¸º40pxï¼Œè¶…è¿‡æ—¶ç›´æ¥å–40ï¼›</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> fontSize =</span></span><br><span class="line"><span class="language-javascript">          <span class="number">20</span> * (deviceWidth / <span class="number">320</span>) &gt; <span class="number">40</span> ? <span class="number">40</span> : <span class="number">20</span> * (deviceWidth / <span class="number">360</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">fontSize</span> = fontSize +         <span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, changeRootFontSize);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, changeRootFontSize);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è‡ªé€‚åº”å¸ƒå±€"><a href="#è‡ªé€‚åº”å¸ƒå±€" class="headerlink" title="è‡ªé€‚åº”å¸ƒå±€"></a>è‡ªé€‚åº”å¸ƒå±€</h3><p>å¸ƒå±€ç‰¹ç‚¹ï¼š</p><ol><li><p>ä¸åŒè®¾å¤‡å¯¹åº”ä¸åŒçš„htm</p></li><li><p>å±€éƒ¨è‡ªé€‚åº”ï¼šä¾‹å¦‚ä¸‰æ å¸ƒå±€ï¼Œä¸­é—´ä¸€æ éšå°ºå¯¸å¤§å°ä¼¸ç¼©ã€‚</p></li></ol><p>ä¸»è¦é€šè¿‡jsåˆ¤æ–­è®¾å¤‡çš„ç±»å‹æˆ–æ§åˆ¶å±€éƒ¨çš„å˜åŒ–</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">redirect</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//è·å–è®¾å¤‡ä¿¡æ¯</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> userAgent = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//æ­£åˆ™è¡¨è¾¾å¼æ¥åˆ¤æ–­è®¾å¤‡ç±»å‹</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> device = <span class="regexp">/ipad|iphone|midp|windows ce/</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(device.<span class="title function_">test</span>(userAgent))&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//è·³è½¬åˆ°ç§»åŠ¨ç«¯é¡µé¢</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&quot;move.html&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//è·³è½¬åˆ°pcç«¯é¡µé¢</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&quot;pc.html&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‰æ å¸ƒå±€ç±»å‹ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//å¤–éƒ¨å¤§å®¹å™¨</span><br><span class="line"> <span class="selector-class">.div0</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line"> &#125;</span><br><span class="line"> //ä¸¤ä¾§ä¸å˜ï¼Œä¸­é—´ä¼¸ç¼©</span><br><span class="line"> <span class="selector-class">.div0</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">   <span class="attribute">background-color</span>: antiquewhite;</span><br><span class="line">   <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">50px</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="selector-class">.div0</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">   <span class="attribute">background-color</span>: aqua;</span><br><span class="line">   <span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="selector-class">.div0</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">   <span class="attribute">background-color</span>: antiquewhite;</span><br><span class="line">   <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">50px</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> //é…åˆåª’ä½“æŸ¥è¯¢</span><br><span class="line"> <span class="keyword">@media</span> (<span class="attribute">min-device-width</span>: <span class="number">400px</span>) <span class="keyword">and</span> (<span class="attribute">max-device-width</span>: <span class="number">500px</span>) &#123;</span><br><span class="line">   <span class="selector-class">.div0</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">     <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="å“åº”å¼å¸ƒå±€"><a href="#å“åº”å¼å¸ƒå±€" class="headerlink" title="å“åº”å¼å¸ƒå±€"></a>å“åº”å¼å¸ƒå±€</h3><p>ç¡®ä¿ä¸€ä¸ªé¡µé¢åœ¨æ‰€æœ‰ç»ˆç«¯ä¸Šï¼Œéƒ½èƒ½æ˜¾ç¤ºå‡ºä»¤äººæ»¡æ„çš„æ•ˆæœã€‚</p><p>ä»¥%æˆ–remä¸ºå•ä½ï¼›</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å“åº”å¼å¸ƒå±€&lt;/p&gt;
&lt;h3 id=&quot;åª’ä½“æŸ¥è¯¢-mediaQuery&quot;&gt;&lt;a href=&quot;#åª’ä½“æŸ¥è¯¢-mediaQuery&quot; class=&quot;headerlink&quot; title=&quot;åª’ä½“æŸ¥è¯¢ mediaQuery&quot;&gt;&lt;/a&gt;åª’ä½“æŸ¥è¯¢ mediaQuery&lt;/h3&gt;&lt;h4 id=&quot;</summary>
      
    
    
    
    
    <category term="css" scheme="https://kukupii.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Vueæºç é˜…è¯»ç¬”è®°</title>
    <link href="https://kukupii.github.io/2022/12/20/Vue%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/"/>
    <id>https://kukupii.github.io/2022/12/20/Vue%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/</id>
    <published>2022-12-20T08:12:23.000Z</published>
    <updated>2022-12-20T07:34:06.934Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1rC4y187Vw/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&vd_source=d247184ffe2b5293f1c76874d6153aed">è·Ÿå°¤é›¨æºªä¸€èµ·è§£è¯»Vue3æºç ã€ä¸­è‹±å­—å¹•ã€‘- Vue Mastery</a>è§‚çœ‹ç¬”è®°è®°å½•ã€‚</p><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><h3 id="what-is-the-DOM"><a href="#what-is-the-DOM" class="headerlink" title="what is the DOM?"></a>what is the DOM?</h3><p>Document Object Model. This is our browserâ€™s interface(API) to change what is displayed on the screen. HTML maps to a series of DOM nodes that we can manipulate by JavaScript.</p><p>æ–‡ä»¶å¯¹è±¡æ¨¡å‹ï¼Œæµè§ˆå™¨é¡µé¢æ‰€å‘ˆç°çš„å†…å®¹ã€‚æŠŠHTMLåŠ è½½åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨åˆ›å»ºä¸€ç³»åˆ—çš„DOMèŠ‚ç‚¹ï¼Œå¹¶æ¸²æŸ“åœ¨é¡µé¢ä¸Šï¼Œè¿™äº›DOMèŠ‚ç‚¹å¯ä»¥ä½¿ç”¨JSè¿›è¡Œæ“ä½œã€‚</p><h3 id="Virtual-DOM"><a href="#Virtual-DOM" class="headerlink" title="Virtual DOM"></a>Virtual DOM</h3><p>DOM treeä¸Šå¯ä»¥æœ‰æˆåƒä¸Šä¸‡çš„DOMèŠ‚ç‚¹ï¼Œæœç´¢å’Œæ›´æ–°èµ·æ¥éå¸¸å›°éš¾ï¼Œå› æ­¤è¯ç”Ÿäº†Virtual DOM.</p><p>Virtual DOM is a way of representing the actual DOM with JavaScript Objects.</p><p>ä¸€ä¸ªç®€å•çš„HTMLï¼Œæ¯”å¦‚<code>&lt;div&gt;hello&lt;/div&gt;</code>,å¯ä»¥é€šè¿‡Vnodeè¡¨ç°ä¸º</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">tag</span>:<span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>:[</span><br><span class="line">    Â Â Â Â &#123;</span><br><span class="line">        <span class="attr">text</span>:<span class="string">&#x27;hello&#x27;</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>VueåŸºäºæ¨¡æ¿åˆ›å»ºä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªVnodeå¯¹è±¡,ä¾‹å¦‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params">h</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“Vnodeæœ‰å˜åŒ–æ—¶ï¼Œæ¸²æŸ“å‡½æ•°å†æ¬¡è¿è¡Œï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„vnodeèŠ‚ç‚¹ï¼Œå¹¶ä¸æ—§vnodeèŠ‚ç‚¹å¯¹æ¯”ï¼ˆdiffï¼‰ã€‚</p><h3 id="Vue-core-module"><a href="#Vue-core-module" class="headerlink" title="Vue core module:"></a>Vue core module:</h3><p>Reactivity module, Compiler Module, Renderer Module.</p><h4 id="Reactivity-module"><a href="#Reactivity-module" class="headerlink" title="Reactivity module:"></a>Reactivity module:</h4><p>allow us to create JavaScript reactive objects that can be watched for changes.</p><p>when code which uses these objects are run, theyâ€™re tracked, so they can be run later if the reactivity object changes.</p><h4 id="Compiler-Module"><a href="#Compiler-Module" class="headerlink" title="Compiler Module:"></a>Compiler Module:</h4><p>takes HTML templates and compiles them into render functions, more often happens when a Vue project is built, so that a browser only ever receives render functions.</p><h4 id="Renderer-Module"><a href="#Renderer-Module" class="headerlink" title="Renderer Module:"></a>Renderer Module:</h4><p><strong>Three phases: Render, mount and patch.</strong></p><p>render phase: call render function and return virtual DOM node.</p><p>mount phase: use vnode creates webpage</p><p>patch phase: compare old vnode with new vnode, and only updates the changed part.</p><h3 id="Walking-through-a-simple-Vue-app-a-template-which-reference-to-a-reactive-object"><a href="#Walking-through-a-simple-Vue-app-a-template-which-reference-to-a-reactive-object" class="headerlink" title="Walking through a simple Vue app: a template which reference to a reactive object"></a>Walking through a simple Vue app: a template which reference to a reactive object</h3><ol><li><p>the template compiler changes HTML into a render function</p></li><li><p>the reactive objects are initialized using the reactivity module</p></li><li><p>the render function returns a DOM node.  itâ€™s referred reactive object, now be watched.</p></li><li><p>the mount phase uses the VNode to create the DOM to webpage</p></li><li><p>if any changes happen to our reactive object, it will cause a re-render</p></li></ol><h2 id="Rendering-Mechanism"><a href="#Rendering-Mechanism" class="headerlink" title="Rendering Mechanism"></a>Rendering Mechanism</h2><h3 id="Benefits-of-Virtual-DOM"><a href="#Benefits-of-Virtual-DOM" class="headerlink" title="Benefits of Virtual DOM:"></a>Benefits of Virtual DOM:</h3><ol><li><p>Decouples rendering logical from the actual DOM - makes it straighforward to reuse it in non-browser envirnoment, e.g. rendering to a string(SSR), rendering to a canvas&#x2F;WebGL, or native mobile rendering.</p></li><li><p>Provides the ability to programmatically construct, inspect, clone and create derivative structures before actually returning it to the rendering engine, and it using the full power of JavaScript.</p></li></ol><p>Conclusion: templates will get where you want to go, in 99% situation, you only need to write down the HTML, but if you want to do something programmatically, in that case, you need to code up a render funtion.</p><h3 id="What-is-render-function"><a href="#What-is-render-function" class="headerlink" title="What is render function?"></a>What is render function?</h3><p>In <strong>Vue2</strong> API (more nestle)</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params">h</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">attrs</span>:&#123;</span><br><span class="line">            <span class="attr">id</span>:<span class="string">&#x27;foo&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">on</span>:&#123;</span><br><span class="line">            <span class="attr">click</span>:<span class="variable language_">this</span>.<span class="property">onClick</span></span><br><span class="line">        &#125;</span><br><span class="line">Â Â Â Â &#125;, <span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In <strong>Vue3</strong> API</p><ul><li><p>Flat props structure</p></li><li><p>Globally imported <code>h</code> helper</p></li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; h &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">id</span>:<span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">        <span class="attr">onClick</span>: <span class="variable language_">this</span>.<span class="property">onClick</span></span><br><span class="line">    &#125;, <span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1rC4y187Vw/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&amp;vd_sourc</summary>
      
    
    
    
    
    <category term="vue3" scheme="https://kukupii.github.io/tags/vue3/"/>
    
    <category term="notes" scheme="https://kukupii.github.io/tags/notes/"/>
    
  </entry>
  
  <entry>
    <title>js30å­¦ä¹ ç¬”è®°ï¼ˆ01~05ï¼‰</title>
    <link href="https://kukupii.github.io/2022/11/17/js30%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%8801~05%EF%BC%89/"/>
    <id>https://kukupii.github.io/2022/11/17/js30%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%8801~05%EF%BC%89/</id>
    <published>2022-11-17T08:12:23.000Z</published>
    <updated>2022-11-17T08:55:38.202Z</updated>
    
    <content type="html"><![CDATA[<p>JavaScirpt30 æ˜¯ Wes Bos æ¨å‡ºçš„ä¸€ä¸ª 30 å¤©æŒ‘æˆ˜ã€‚é¡¹ç›®å…è´¹æä¾›äº† 30 ä¸ªè§†é¢‘æ•™ç¨‹ã€30 ä¸ªæŒ‘æˆ˜çš„èµ·å§‹æ–‡æ¡£å’Œ 30 ä¸ªæŒ‘æˆ˜è§£å†³æ–¹æ¡ˆæºä»£ç ã€‚ç›®çš„æ˜¯å¸®åŠ©äººä»¬ç”¨çº¯ JavaScript æ¥å†™ä¸œè¥¿ï¼Œä¸å€ŸåŠ©æ¡†æ¶å’Œåº“ï¼Œä¹Ÿä¸ä½¿ç”¨ç¼–è¯‘å™¨å’Œå¼•ç”¨ã€‚ </p><p>Githubåº“ï¼š(<a href="https://github.com/soyaine/JavaScript30">GitHub - soyaine&#x2F;JavaScript30: æœ‰å…³ @wesbos çš„è¯¾ç¨‹ JavaScript-30 çš„ä¸­æ–‡ç»ƒä¹ æŒ‡å—</a>)</p><h2 id="JavaScript-Drum-Kit"><a href="#JavaScript-Drum-Kit" class="headerlink" title="JavaScript Drum Kit"></a>JavaScript Drum Kit</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p>Document.querySelector()é€‰å®šçš„æ˜¯NodeListï¼Œå¦‚æœè¦ç”¨forEachå¾ªç¯ï¼Œé¦–å…ˆè¦ç”¨Array.from()è½¬æ¢ã€‚</p><h3 id="currentTime"><a href="#currentTime" class="headerlink" title="currentTime"></a>currentTime</h3><p>currentTime å±æ€§è®¾ç½®æˆ–è¿”å›è§†é¢‘æ’­æ”¾çš„å½“å‰ä½ç½®ï¼ˆä»¥ç§’è®¡ï¼‰ã€‚</p><p>å½“è®¾ç½®è¯¥å±æ€§æ—¶ï¼Œæ’­æ”¾ä¼šè·³è·ƒåˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p><p><code>document.getElementById(&quot;myVideo&quot;).currentTime = 5;</code></p><h3 id="Tansitionend-addEventHandlerçš„äº‹ä»¶"><a href="#Tansitionend-addEventHandlerçš„äº‹ä»¶" class="headerlink" title="Tansitionend (addEventHandlerçš„äº‹ä»¶)"></a>Tansitionend (addEventHandlerçš„äº‹ä»¶)</h3><p>transitionendäº‹ä»¶ä¼šåœ¨CSS transitionç»“æŸåè§¦å‘ã€‚å½“transitionå®Œæˆå‰ç§»é™¤transition æ—¶ï¼Œæ¯”å¦‚ç§»é™¤cssçš„transition-propertyå±æ€§ï¼Œäº‹ä»¶å°†ä¸ä¼šè¢«è§¦å‘ã€‚å¦‚åœ¨transitionå®Œæˆå‰è®¾ç½®displayä¸ºâ€noneâ€ï¼Œäº‹ä»¶åŒæ ·ä¸ä¼šè¢«è§¦å‘ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    funciton <span class="title function_">remove</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (event.<span class="property">propertyName</span> !== <span class="string">&#x27;border-left-color&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;playing&#x27;</span>);</span><br><span class="line">      <span class="comment">// event.target.classList.remove(&#x27;playing&#x27;);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çº¯-JSã€CSS-æ—¶é’Ÿ"><a href="#çº¯-JSã€CSS-æ—¶é’Ÿ" class="headerlink" title="çº¯ JSã€CSS æ—¶é’Ÿ"></a>çº¯ JSã€CSS æ—¶é’Ÿ</h2><h3 id="transition-timing-function-cubic-bezier-x-x-x-x"><a href="#transition-timing-function-cubic-bezier-x-x-x-x" class="headerlink" title="transition-timing-function: cubic-bezier(x, x, x, x)"></a>transition-timing-function: cubic-bezier(x, x, x, x)</h3><p>transition-timing-functionå±æ€§æŒ‡å®šåˆ‡æ¢æ•ˆæœçš„é€Ÿåº¦ã€‚</p><p>æ­¤å±æ€§å…è®¸ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœï¼Œä»¥æ”¹å˜å…¶æŒç»­æ—¶é—´çš„é€Ÿåº¦ã€‚</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>linear</td><td>è§„å®šä»¥ç›¸åŒé€Ÿåº¦å¼€å§‹è‡³ç»“æŸçš„è¿‡æ¸¡æ•ˆæœï¼ˆç­‰äº cubic-bezier(0,0,1,1)ï¼‰ã€‚</td></tr><tr><td>ease</td><td>è§„å®šæ…¢é€Ÿå¼€å§‹ï¼Œç„¶åå˜å¿«ï¼Œç„¶åæ…¢é€Ÿç»“æŸçš„è¿‡æ¸¡æ•ˆæœï¼ˆcubic-bezier(0.25,0.1,0.25,1)ï¼‰ã€‚</td></tr><tr><td>ease-in</td><td>è§„å®šä»¥æ…¢é€Ÿå¼€å§‹çš„è¿‡æ¸¡æ•ˆæœï¼ˆç­‰äº cubic-bezier(0.42,0,1,1)ï¼‰ã€‚</td></tr><tr><td>ease-out</td><td>è§„å®šä»¥æ…¢é€Ÿç»“æŸçš„è¿‡æ¸¡æ•ˆæœï¼ˆç­‰äº cubic-bezier(0,0,0.58,1)ï¼‰ã€‚</td></tr><tr><td>ease-in-out</td><td>è§„å®šä»¥æ…¢é€Ÿå¼€å§‹å’Œç»“æŸçš„è¿‡æ¸¡æ•ˆæœï¼ˆç­‰äº cubic-bezier(0.42,0,0.58,1)ï¼‰ã€‚</td></tr><tr><td>cubic-bezier(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td><td>åœ¨ cubic-bezier å‡½æ•°ä¸­å®šä¹‰è‡ªå·±çš„å€¼ã€‚å¯èƒ½çš„å€¼æ˜¯ 0 è‡³ 1 ä¹‹é—´çš„æ•°å€¼ã€‚</td></tr></tbody></table><h3 id="transform-origin"><a href="#transform-origin" class="headerlink" title="transform-origin"></a>transform-origin</h3><p>transform-Originå±æ€§æ˜¯ç”¨æ¥æ›´æ”¹è½¬æ¢å…ƒç´ çš„ä½ç½®ã€‚</p><p>2Dè½¬æ¢å…ƒç´ å¯ä»¥æ”¹å˜å…ƒç´ çš„Xå’ŒYè½´ã€‚ 3Dè½¬æ¢å…ƒç´ ï¼Œè¿˜å¯ä»¥æ›´æ”¹å…ƒç´ çš„Zè½´ã€‚</p><p>é»˜è®¤å€¼ä¸º50% 50% 0ï¼Œåˆ†åˆ«å¯¹åº”xè½´ã€yè½´å’Œzè½´ã€‚</p><h2 id="CSS-Variable"><a href="#CSS-Variable" class="headerlink" title="CSS Variable"></a>CSS Variable</h2><h3 id="root-ä¼ªç±»"><a href="#root-ä¼ªç±»" class="headerlink" title=":root ä¼ªç±»"></a>:root ä¼ªç±»</h3><p>è¿™ä¸ªä¼ªå…ƒç´ åŒ¹é…çš„æ˜¯æ–‡æ¡£æ ¹å…ƒç´ ï¼Œå³<html>ã€‚å¸¸ç”¨äºå£°æ˜å…¨å±€çš„csså˜é‡ï¼›</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123; </span><br><span class="line"> <span class="attr">--color</span>: <span class="number">#fff</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨æ—¶ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;  </span><br><span class="line">Â  <span class="attribute">background</span>: <span class="built_in">var</span>(--base);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="filter-blur"><a href="#filter-blur" class="headerlink" title="filter:blur();"></a>filter:blur();</h3><p>Â Â Â Â filter:blur(20px)å®ç°èƒŒæ™¯å›¾ç‰‡æ¨¡ç³Šæ•ˆæœã€‚</p><h3 id="trick-ä½¿ç”¨datasetæ¥å‚¨å­˜å•ä½åç¼€ï¼Œå¦‚pxï¼›"><a href="#trick-ä½¿ç”¨datasetæ¥å‚¨å­˜å•ä½åç¼€ï¼Œå¦‚pxï¼›" class="headerlink" title="trick: ä½¿ç”¨datasetæ¥å‚¨å­˜å•ä½åç¼€ï¼Œå¦‚pxï¼›"></a>trick: ä½¿ç”¨datasetæ¥å‚¨å­˜å•ä½åç¼€ï¼Œå¦‚pxï¼›</h3><h3 id="ç”¨JavaScriptæ”¹å˜CSSå±æ€§å€¼ï¼š"><a href="#ç”¨JavaScriptæ”¹å˜CSSå±æ€§å€¼ï¼š" class="headerlink" title="ç”¨JavaScriptæ”¹å˜CSSå±æ€§å€¼ï¼š"></a>ç”¨JavaScriptæ”¹å˜CSSå±æ€§å€¼ï¼š</h3><p>å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--color&#x27;</span>,<span class="string">&#x27;#35843&#x27;</span>);</span><br><span class="line"><span class="comment">// get variable from inline style  </span></span><br><span class="line">element.<span class="property">style</span>.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--my-var&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// get variable from wherever  </span></span><br><span class="line"><span class="title function_">getComputedStyle</span>(element).<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--my-var&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// set variable on inline style  </span></span><br><span class="line">element.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&quot;--my-var&quot;</span>, jsVar + <span class="number">4</span>);</span><br></pre></td></tr></table></figure><h3 id="å–„ç”¨this-keyword"><a href="#å–„ç”¨this-keyword" class="headerlink" title="å–„ç”¨this keyword"></a>å–„ç”¨this keyword</h3><p>ä½¿ç”¨addEventListeneræ—¶ï¼Œå–„ç”¨thisã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(</span><br><span class="line">      <span class="string">`--<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>,</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.value&#125;</span><span class="subst">$&#123;end&#125;</span>`</span></span><br><span class="line"> );</span><br><span class="line"></span><br><span class="line">inputs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    input.<span class="title function_">addEventListener</span>(<span class="string">&quot;change&quot;</span>, handlerUpdate);</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure><p>Â </p><h2 id="Array-Cardio-ğŸ’ª"><a href="#Array-Cardio-ğŸ’ª" class="headerlink" title="Array CardioÂ ğŸ’ª"></a>Array CardioÂ ğŸ’ª</h2><h3 id="Array-prototype-sort"><a href="#Array-prototype-sort" class="headerlink" title="Array.prototype.sort();"></a>Array.prototype.sort();</h3><p>Â Â Â Â è¯­æ³•ï¼šarr.sort([compareFunction])ï¼›</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> items = [</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;Edward&quot;</span>, <span class="attr">value</span>: <span class="number">21</span> &#125;,</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;Sharpe&quot;</span>, <span class="attr">value</span>: <span class="number">37</span> &#125;,</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;And&quot;</span>, <span class="attr">value</span>: <span class="number">45</span> &#125;,</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;The&quot;</span>, <span class="attr">value</span>: -<span class="number">12</span> &#125;,</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;Magnetic&quot;</span> &#125;,</span><br><span class="line">Â  Â  Â  Â  &#123; <span class="attr">name</span>: <span class="string">&quot;Zeros&quot;</span>, <span class="attr">value</span>: <span class="number">37</span> &#125;,</span><br><span class="line">Â  Â  Â ];</span><br><span class="line">Â  Â  Â  <span class="comment">// sort by value</span></span><br><span class="line">Â  Â  Â  items.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">Â  Â  Â  Â  <span class="keyword">return</span> a.<span class="property">value</span> - b.<span class="property">value</span>;</span><br><span class="line">Â  Â  Â  &#125;);</span><br><span class="line">Â  Â  Â  <span class="comment">// sort by name</span></span><br><span class="line">Â  Â  Â  items.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    Â  Â  Â  <span class="keyword">var</span> nameA = a.<span class="property">name</span>.<span class="title function_">toUpperCase</span>(); <span class="comment">// ignore upper and lowercas</span></span><br><span class="line">  Â   Â  Â  <span class="keyword">var</span> nameB = b.<span class="property">name</span>.<span class="title function_">toUpperCase</span>(); <span class="comment">// ignore upper andlowercase</span></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span> (nameA &lt; nameB) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span> (nameA &gt; nameB) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  <span class="comment">// names must be equal</span></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Â  Â  Â &#125;);</span><br></pre></td></tr></table></figure><h3 id="Array-prototype-reduce"><a href="#Array-prototype-reduce" class="headerlink" title="Array.prototype.reduce"></a>Array.prototype.reduce</h3><p>Â Â Â Â è¯­æ³• : reduce((previousValue, currentValue, currentIndex) &#x3D;&gt; { &#x2F;* â€¦ *&#x2F; } , initialValue);</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Counting instances of values in an object</span></span><br><span class="line"><span class="keyword">const</span> names = [<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Tiff&quot;</span>, <span class="string">&quot;Bruce&quot;</span>, <span class="string">&quot;Alice&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> countNames = names.<span class="title function_">reduce</span>(<span class="function">(<span class="params">allNames, name</span>) =&gt;</span> &#123;</span><br><span class="line">    allNames[name] ? allNames[name]++ : (allNames[name] = <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> allNames;</span><br><span class="line"> &#125;, &#123;&#125;);</span><br></pre></td></tr></table></figure><h3 id="åœ¨ç½‘ç«™ä¸­ç­›é€‰"><a href="#åœ¨ç½‘ç«™ä¸­ç­›é€‰" class="headerlink" title="åœ¨ç½‘ç«™ä¸­ç­›é€‰"></a>åœ¨ç½‘ç«™ä¸­ç­›é€‰</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// create a list of Boulevards in Paris that contain &#x27;de&#x27; anywhere in the name</span></span><br><span class="line"><span class="comment">// https://en.wikipedia.org/wiki/Category:Boulevards _in_Paris</span></span><br><span class="line">   <span class="keyword">const</span> cates = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">`.mw-category-group ul a`</span>)</span><br><span class="line">   <span class="keyword">const</span> listWithDe = <span class="title class_">Array</span>.<span class="title function_">from</span>(cates)</span><br><span class="line">Â Â Â Â Â Â Â Â .<span class="title function_">map</span>(<span class="function">(<span class="params">cate</span>) =&gt;</span> cate.<span class="property">innerText</span>)</span><br><span class="line">       .<span class="title function_">filter</span>(<span class="function">(<span class="params">links</span>) =&gt;</span> links.<span class="title function_">includes</span>(<span class="string">&quot;de&quot;</span>));</span><br></pre></td></tr></table></figure><h2 id="Day5-Flex-Panel-Gallery"><a href="#Day5-Flex-Panel-Gallery" class="headerlink" title="Day5 Flex Panel Gallery"></a>Day5 Flex Panel Gallery</h2><h3 id="transitionå±æ€§"><a href="#transitionå±æ€§" class="headerlink" title="transitionå±æ€§"></a>transitionå±æ€§</h3><p>Â Â Â Â transition: <em>property duration timing-function delay</em> ;</p><p>Â Â Â Â transition-property è¡¨ç¤ºå“ªä¸ªå±æ€§å¼€å§‹å˜åŒ–ï¼Œæ¯”å¦‚background, width</p><p>Â Â Â Â transition-duration è¡¨ç¤ºè¯¥å˜åŒ–æŒç»­å¤šä¹…æ—¶é—´</p><p>Â Â Â Â timing-function è¡¨ç¤ºè¯¥å˜åŒ–æ—¶é—´çš„é€Ÿåº¦æ›²çº¿</p><p>Â Â Â Â delay è¡¨ç¤ºè¯¥å˜åŒ–ä½•æ—¶å¼€å§‹</p><p>Â Â Â Â é»˜è®¤å€¼ï¼šall 0 ease 0</p><h3 id="flexå¸ƒå±€"><a href="#flexå¸ƒå±€" class="headerlink" title="flexå¸ƒå±€"></a>flexå¸ƒå±€</h3><p>MDN: <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">flex å¸ƒå±€çš„åŸºæœ¬æ¦‚å¿µ - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ | MDN</a></p><h3 id="transformå±æ€§"><a href="#transformå±æ€§" class="headerlink" title="transformå±æ€§"></a>transformå±æ€§</h3><p>Â Â Â Â transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚</p><p>Â Â Â Â transform: translateY(-100%);</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;JavaScirpt30 æ˜¯ Wes Bos æ¨å‡ºçš„ä¸€ä¸ª 30 å¤©æŒ‘æˆ˜ã€‚é¡¹ç›®å…è´¹æä¾›äº† 30 ä¸ªè§†é¢‘æ•™ç¨‹ã€30 ä¸ªæŒ‘æˆ˜çš„èµ·å§‹æ–‡æ¡£å’Œ 30 ä¸ªæŒ‘æˆ˜è§£å†³æ–¹æ¡ˆæºä»£ç ã€‚ç›®çš„æ˜¯å¸®åŠ©äººä»¬ç”¨çº¯ JavaScript æ¥å†™ä¸œè¥¿ï¼Œä¸å€ŸåŠ©æ¡†æ¶å’Œåº“ï¼Œä¹Ÿä¸ä½¿ç”¨ç¼–è¯‘å™¨å’Œå¼•ç”¨ã€‚ &lt;/p&gt;
&lt;p&gt;Git</summary>
      
    
    
    
    
    <category term="js30" scheme="https://kukupii.github.io/tags/js30/"/>
    
    <category term="javascript" scheme="https://kukupii.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>æŠ½ç¦»ç»„ä»¶â€”â€”Uploaderç»„ä»¶</title>
    <link href="https://kukupii.github.io/2022/11/03/%E6%8A%BD%E7%A6%BB%E7%BB%84%E4%BB%B6%E2%80%94%E2%80%94Uploader%E7%BB%84%E4%BB%B6/"/>
    <id>https://kukupii.github.io/2022/11/03/%E6%8A%BD%E7%A6%BB%E7%BB%84%E4%BB%B6%E2%80%94%E2%80%94Uploader%E7%BB%84%E4%BB%B6/</id>
    <published>2022-11-03T13:04:17.000Z</published>
    <updated>2022-11-17T08:43:06.107Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼"><a href="#ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼"></a>ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼</h2><ol><li><p>form-submission</p></li><li><p>JavaScriptå‘é€å¼‚æ­¥è¯·æ±‚</p></li></ol><h3 id="Form-submission"><a href="#Form-submission" class="headerlink" title="Form-submission"></a>Form-submission</h3><p>ä½¿ç”¨<code>&lt;form&gt;</code>æ ‡ç­¾ã€‚</p><p>è·Ÿæ™®é€šçš„å­—ç¬¦ä¸²ä¸åŒï¼Œæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼Œæ‰€ä»¥è¦é¢å¤–è®¾ç½®<code>enctype=&#39;multipart/form-data&#39;</code>ã€‚</p><p>å…³äº POST encType çš„æè¿°:<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/POST">POST - HTTP | MDN</a></p><ul><li>application&#x2F;x-www-form-urlencoded: æ•°æ®è¢«ç¼–ç æˆä»¥ â€˜&amp;â€™ åˆ†éš”çš„é”®-å€¼å¯¹, åŒæ—¶ä»¥ â€˜&#x3D;â€™ åˆ†éš”é”®å’Œå€¼. éå­—æ¯æˆ–æ•°å­—çš„å­—ç¬¦ä¼šè¢« percent-encoding: è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¿™ç§ç±»å‹ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®(åº”ä½¿ç”¨ multipart&#x2F;form-data ä»£æ›¿).</li><li>multipart&#x2F;form-data</li><li>text&#x2F;plain</li></ul><p>å…·ä½“ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//formä¸­çš„actionå±æ€§æŒ‡å‘submitåå‘é€åˆ°çš„åç«¯url</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&#x27;post&#x27;</span> <span class="attr">enctype</span>=<span class="string">&#x27;multipart/form-data&#x27;</span> <span class="attr">acion</span>=<span class="string">&#x27;/api/upload&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">file</span> /&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&#x27;submit&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="JavaScriptå‘é€å¼‚æ­¥è¯·æ±‚"><a href="#JavaScriptå‘é€å¼‚æ­¥è¯·æ±‚" class="headerlink" title="JavaScriptå‘é€å¼‚æ­¥è¯·æ±‚"></a>JavaScriptå‘é€å¼‚æ­¥è¯·æ±‚</h3><p>ç›‘å¬<code>input</code>çš„<code>change</code>äº‹ä»¶</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleFileChange</span> = (<span class="params">e:Event</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> target = e.<span class="property">target</span> <span class="keyword">as</span> <span class="title class_">HTMLInputElement</span>;</span><br><span class="line">    <span class="keyword">const</span> files = target.<span class="property">files</span>; </span><br><span class="line">    <span class="comment">//å› ä¸ºå¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œfilesä¸ºarray-like objectï¼Œå¯ä»¥ä½¿ç”¨Array.from()è½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line">    <span class="comment">//åªé€‰å–ç¬¬ä¸€ä¸ªæ–‡ä»¶å¯ä»¥ç”¨files[0]</span></span><br><span class="line">    <span class="keyword">if</span>(files)&#123;</span><br><span class="line">    <span class="keyword">const</span> uploadedFile = files[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿè¡¨å•æ•°æ®ï¼Œä½¿ç”¨FormDataå¯¹è±¡ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä»¥JavaScriptåˆ›å»ºHTML&lt;form&gt;è¿™ä¸ªdata</span></span><br><span class="line">    <span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">    <span class="comment">//ä½¿ç”¨appendæ–¹æ³•æ·»åŠ æ–°çš„å±æ€§å€¼ã€‚</span></span><br><span class="line">    <span class="comment">//formData.append(name,value)</span></span><br><span class="line">    formData.<span class="title function_">append</span>(uploadedFile.<span class="property">name</span>, uploadedFile);</span><br><span class="line">    <span class="comment">//å‘é€è¯¥è¡¨å•æ•°æ®è¯·æ±‚ï¼ˆPOSTï¼‰</span></span><br><span class="line">    axios.<span class="title function_">post</span>(<span class="string">&#x27;/upload&#x27;</span>, formData, &#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºconfigï¼Œè®¾ç½®headerè½¬æ¢æ ¼å¼ã€‚</span></span><br><span class="line">    <span class="attr">headers</span>:&#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;multipart/form-data&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).<span class="title function_">then</span>(...)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Uploaderç»„ä»¶éœ€æ±‚è®¾è®¡"><a href="#Uploaderç»„ä»¶éœ€æ±‚è®¾è®¡" class="headerlink" title="Uploaderç»„ä»¶éœ€æ±‚è®¾è®¡"></a>Uploaderç»„ä»¶éœ€æ±‚è®¾è®¡</h2><ol><li><p>æ¥å—éªŒè¯åŠŸèƒ½ &#x3D;&gt; éªŒè¯æ–‡ä»¶çš„æ ¼å¼&#x2F;å¤§å°</p></li><li><p>æ¥å—action &#x3D;&gt; è‡ªå®šä¹‰åç«¯url</p></li><li><p>å‘é€äº‹ä»¶ &#x3D;&gt; ä¸Šä¼ æˆåŠŸäº‹ä»¶å’Œä¸Šä¼ å¤±è´¥äº‹ä»¶</p></li><li><p>æœ‰çŠ¶æ€ &#x3D;&gt; ä¸Šä¼ å‰ã€ä¸­ã€å</p></li><li><p>ä¸Šä¼ æˆåŠŸåï¼Œæ˜¾ç¤ºä¸Šä¼ å›¾ç‰‡</p></li></ol><h3 id="æ¥å—éªŒè¯åŠŸèƒ½"><a href="#æ¥å—éªŒè¯åŠŸèƒ½" class="headerlink" title="æ¥å—éªŒè¯åŠŸèƒ½"></a>æ¥å—éªŒè¯åŠŸèƒ½</h3><p>CheckFuntionåº”è¯¥åœ¨ä¸Šä¼ æ–‡ä»¶å‰è¿›è¡Œè°ƒç”¨ï¼Œå› æ­¤è®¾ç½®ä¸€ä¸ªpropsä¸ºbeforeUploadedæ¥å—ä¸€ä¸ªéªŒè¯å‡½æ•°ï¼Œå‚æ•°ä¸ºæ–‡ä»¶ï¼Œç»“æœä¸ºå¸ƒå°”å€¼ï¼ŒéªŒè¯é€šè¿‡æäº¤æ–‡ä»¶ï¼Œå¦åˆ™returnã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">CheckFuntion</span> = <span class="function">(<span class="params">file:File</span>) =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line">    <span class="attr">beforeUploaded</span>:&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Funtion</span> <span class="keyword">as</span> <span class="title class_">PropType</span>&lt;<span class="title class_">CheckFuntion</span>&gt;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨setupä¸­handleFileChangeå‡½æ•°ä¸­è¿›è¡ŒéªŒè¯</span></span><br><span class="line"><span class="keyword">if</span> (props.<span class="property">beforeUploaded</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> result = props.<span class="title function_">beforeUploaded</span>(selectedFile);</span><br><span class="line">    <span class="keyword">if</span>(!result)&#123;<span class="keyword">return</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰åç«¯url"><a href="#è‡ªå®šä¹‰åç«¯url" class="headerlink" title="è‡ªå®šä¹‰åç«¯url"></a>è‡ªå®šä¹‰åç«¯url</h3><p>propsæ¥å—actionï¼Œç±»å‹ä¸º<code>String</code>ï¼Œåœ¨axios.postæ—¶è°ƒç”¨ã€‚</p><h3 id="å‘é€æˆåŠŸå’Œå¤±è´¥äº‹ä»¶å’Œæ”¹å˜çŠ¶æ€"><a href="#å‘é€æˆåŠŸå’Œå¤±è´¥äº‹ä»¶å’Œæ”¹å˜çŠ¶æ€" class="headerlink" title="å‘é€æˆåŠŸå’Œå¤±è´¥äº‹ä»¶å’Œæ”¹å˜çŠ¶æ€"></a>å‘é€æˆåŠŸå’Œå¤±è´¥äº‹ä»¶å’Œæ”¹å˜çŠ¶æ€</h3><p>åœ¨Promiseçš„thenå’Œcatchä¸­åˆ†åˆ«emitç›¸å…³äº‹ä»¶ï¼Œä¼ å…¥æˆåŠŸå€¼å’Œé”™è¯¯ï¼Œå¹¶æ”¹å˜çŠ¶æ€å€¼ã€‚</p><h3 id="ä¸Šä¼ æˆåŠŸåæ˜¾ç¤ºä¸Šä¼ å›¾ç‰‡"><a href="#ä¸Šä¼ æˆåŠŸåæ˜¾ç¤ºä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä¸Šä¼ æˆåŠŸåæ˜¾ç¤ºä¸Šä¼ å›¾ç‰‡"></a>ä¸Šä¼ æˆåŠŸåæ˜¾ç¤ºä¸Šä¼ å›¾ç‰‡</h3><p>å…·ä½“æ–‡æ¡£ï¼š<a href="https://cn.vuejs.org/guide/components/slots.html#scoped-slots">æ’æ§½ Slots | Vue.js</a></p><p>æ’æ§½çš„å†…å®¹åŒæ—¶ä½¿ç”¨çˆ¶ç»„ä»¶åŸŸå†…å’Œå­ç»„ä»¶åŸŸå†…çš„æ•°æ®ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥è®©å­ç»„ä»¶åœ¨æ¸²æŸ“æ—¶å°†ä¸€éƒ¨åˆ†æ•°æ®æä¾›ç»™æ’æ§½ã€‚</p><p>å› æ­¤ï¼Œè¦å‘ä¸Šä¼ æˆåŠŸæ’æ§½çš„å‡ºå£ä¸Šä¼ é€’ attributesï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">&lt;slot</span><br><span class="line">        v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">&quot;uploadStatus === &#x27;success&#x27;&quot;</span></span><br><span class="line">        name=<span class="string">&quot;uploaded&quot;</span>  </span><br><span class="line">        <span class="comment">//uploadDataåœ¨axios.postè¯·æ±‚æˆåŠŸè¿”å›åèµ‹å€¼</span></span><br><span class="line">        :uploadData=<span class="string">&quot;uploadData&quot;</span></span><br><span class="line">      &gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>ä¸Šä¼ æˆåŠŸ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      &lt;/slot&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨æ­¤æ’æ§½çš„ç»„ä»¶ï¼Œå³CreatePostä¸­é€šè¿‡å­ç»„ä»¶æ ‡ç­¾ä¸Šçš„Â <code>v-slot</code>Â æŒ‡ä»¤ï¼Œç›´æ¥æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ’æ§½ props å¯¹è±¡ï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">&lt;template #uploaded=<span class="string">&quot;dataProps&quot;</span>&gt;</span><br><span class="line">        <span class="comment">//å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œç„¶åä½¿ç”¨imgæ ‡ç­¾æ˜¾ç¤º</span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;dataProps.uploadData.data.url&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ä¼ å…¥æ’æ§½çš„ props ä½œä¸ºäº†Â <code>v-slot</code>Â æŒ‡ä»¤çš„å€¼ï¼Œå¯ä»¥åœ¨æ’æ§½å†…çš„è¡¨è¾¾å¼ä¸­è®¿é—®ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼&quot;&gt;&lt;a href=&quot;#ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼&quot;&gt;&lt;/a&gt;ä¸Šä¼ æ–‡ä»¶çš„ä¸¤ç§å®ç°æ–¹å¼&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;form-submission&lt;/p&gt;
&lt;/li&gt;</summary>
      
    
    
    
    
    <category term="typescript" scheme="https://kukupii.github.io/tags/typescript/"/>
    
    <category term="vue" scheme="https://kukupii.github.io/tags/vue/"/>
    
    <category term="zheye" scheme="https://kukupii.github.io/tags/zheye/"/>
    
    <category term="component" scheme="https://kukupii.github.io/tags/component/"/>
    
    <category term="conclusion" scheme="https://kukupii.github.io/tags/conclusion/"/>
    
  </entry>
  
  <entry>
    <title>é€šç”¨é”™è¯¯å¤„ç†â€”â€”axiosæ‹¦æˆª</title>
    <link href="https://kukupii.github.io/2022/10/30/%E9%80%9A%E7%94%A8%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E2%80%94%E2%80%94axios%E6%8B%A6%E6%88%AA/"/>
    <id>https://kukupii.github.io/2022/10/30/%E9%80%9A%E7%94%A8%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E2%80%94%E2%80%94axios%E6%8B%A6%E6%88%AA/</id>
    <published>2022-10-30T03:44:23.000Z</published>
    <updated>2022-11-17T08:44:02.472Z</updated>
    
    <content type="html"><![CDATA[<p>é‡ç‚¹ï¼š</p><ol><li><p>ç»„ä»¶æ”¹ç”¨å‡½æ•°è°ƒç”¨å½¢å¼ã€‚</p></li><li><p>ä½¿ç”¨Vnodeç»„æˆVitrualDomï¼Œå¹¶ä½¿ç”¨render functionæ¸²æŸ“ã€‚</p></li></ol><h2 id="é€šç”¨é”™è¯¯å¤„ç†"><a href="#é€šç”¨é”™è¯¯å¤„ç†" class="headerlink" title="é€šç”¨é”™è¯¯å¤„ç†"></a>é€šç”¨é”™è¯¯å¤„ç†</h2><p>Axios æ‹¦æˆªå™¨çš„æ–‡æ¡£åœ°å€:<a href="https://axios-http.com/docs/interceptors">Interceptors |Â Axios Docs</a></p><p>ç¤ºä¾‹ä»£ç :</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Add a request interceptor</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something before request is sent</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something with request error</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add a response interceptor</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// Any status code that lie within the range of 2xx cause this function to trigger</span></span><br><span class="line">    <span class="comment">// Do something with response data</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// Any status codes that falls outside the range of 2xx cause this function to trigger</span></span><br><span class="line">    <span class="comment">// Do something with response error</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å®é™…ä»£ç ï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.tsä¸­</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">//æŠŠé”™è¯¯å¤åŸï¼Œä»¥å…é”™è¯¯çª—å£åªå‡ºç°ä¸€æ¬¡</span></span><br><span class="line">  store.<span class="title function_">setError</span>(<span class="literal">false</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    store.<span class="title function_">setLoading</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//è§£æ„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">const</span> &#123; error &#125; = e.<span class="property">response</span>.<span class="property">data</span>;</span><br><span class="line">    <span class="comment">//è®¾ç½®error</span></span><br><span class="line">    store.<span class="title function_">setError</span>(<span class="literal">true</span>, error);</span><br><span class="line">    store.<span class="title function_">setLoading</span>(ftyalse);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//store.tsä¸­</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">ErrorProps</span> &#123;</span><br><span class="line">  <span class="attr">status</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  message?: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useMainStore = <span class="title function_">defineStore</span>(<span class="string">&quot;main&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">error</span>: &#123; <span class="attr">status</span>: <span class="literal">false</span> &#125; <span class="keyword">as</span> <span class="title class_">ErrorProps</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>:&#123;</span><br><span class="line">    <span class="title function_">setError</span>(<span class="params">status: <span class="built_in">boolean</span>, msg: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">error</span> = &#123; <span class="attr">status</span>: status, <span class="attr">message</span>: msg &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¤šç§æƒ…å†µé€‚ç”¨çš„Messageç»„ä»¶"><a href="#åˆ›å»ºå¤šç§æƒ…å†µé€‚ç”¨çš„Messageç»„ä»¶" class="headerlink" title="åˆ›å»ºå¤šç§æƒ…å†µé€‚ç”¨çš„Messageç»„ä»¶"></a>åˆ›å»ºå¤šç§æƒ…å†µé€‚ç”¨çš„Messageç»„ä»¶</h2><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Teleport</span> <span class="attr">to</span>=<span class="string">&quot;#message&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">class</span>=<span class="string">&quot;alert message-info fixed-top w-50 mx-auto d-flex justify-content-between mt-2&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">v-if</span>=<span class="string">&quot;isVisible&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:class</span>=<span class="string">&quot;classObject&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">class</span>=<span class="string">&quot;close&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click.prevent</span>=<span class="string">&quot;close&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span>Ã—<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Teleport</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; defineComponent, <span class="title class_">PropType</span>, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> useDOMCreate <span class="keyword">from</span> <span class="string">&quot;../hooks/useDOMCreate&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> type <span class="title class_">MessageType</span> = <span class="string">&quot;error&quot;</span> | <span class="string">&quot;success&quot;</span> | <span class="string">&quot;default&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">message</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">type</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">String</span> <span class="keyword">as</span> <span class="title class_">PropType</span>&lt;<span class="title class_">MessageType</span>&gt;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="string">&quot;default&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">emits</span>: [<span class="string">&quot;close-message&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">setup</span>(<span class="params">props, context</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">useDOMCreate</span>(<span class="string">&quot;message&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> isVisible = <span class="title function_">ref</span>(<span class="literal">true</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> classObject = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&quot;alert-success&quot;</span>: props.<span class="property">type</span> === <span class="string">&quot;success&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&quot;alert-danger&quot;</span>: props.<span class="property">type</span> === <span class="string">&quot;error&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&quot;alert-primary&quot;</span>: props.<span class="property">type</span> === <span class="string">&quot;default&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> <span class="title function_">close</span> = (<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      isVisible.<span class="property">value</span> = <span class="literal">false</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      context.<span class="title function_">emit</span>(<span class="string">&quot;close-message&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123; isVisible, classObject, close &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="äº†è§£Vnode"><a href="#äº†è§£Vnode" class="headerlink" title="äº†è§£Vnode"></a>äº†è§£Vnode</h2><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://vuejs.org/guide/extras/rendering-mechanism.html#virtual-dom">virtual-dom</a></p><p><strong>Virtual DOMï¼šä¸€ç§è™šæ‹Ÿçš„ï¼Œä¿å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥ä»£è¡¨ UI çš„è¡¨ç°</strong>ï¼Œå’ŒçœŸå® DOM èŠ‚ç‚¹ä¿æŒåŒæ­¥ã€‚Virtual DOMæ˜¯ç”±ä¸€ç³»åˆ—çš„ Vnode ç»„æˆçš„ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„ Vnode</span></span><br><span class="line"><span class="keyword">const</span> vnode = &#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">children</span>: [</span><br><span class="line">    <span class="comment">/* more vnodes */</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here,Â <code>vnode</code>Â is a plain JavaScript object (a â€œvirtual nodeâ€) representing aÂ <code>&lt;div&gt;</code>Â element. It contains all the information that we need to create the actual element. It also contains more children vnodes, which makes it the root of a virtual DOM tree.</p><p>A runtime renderer can walk a virtual DOM tree and construct a real DOM tree from it. This process is calledÂ <strong>mount</strong>.</p><p>If we have two copies of virtual DOM trees, the renderer can also walk and compare the two trees, figuring out the differences, and apply those changes to the actual DOM. This process is calledÂ <strong>patch</strong>, also known as â€œdiffingâ€ or â€œreconciliationâ€.</p><p>patch çš„è¿‡ç¨‹ä¸»è¦å°±æ˜¯ä½¿ç”¨ diff ç®—æ³•è®¡ç®—å·®åˆ«ï¼Œç„¶åæ›´æ–°çš„è¿‡ç¨‹ã€‚</p><h4 id="Render-Pipeline"><a href="#Render-Pipeline" class="headerlink" title="Render Pipeline"></a>Render Pipeline</h4><ul><li><strong>Compile</strong>ï¼Œ Vue ç»„ä»¶çš„ Template ä¼šè¢«ç¼–è¯‘æˆÂ <strong>render function</strong>ï¼Œä¸€ä¸ªå¯ä»¥è¿”å› Virtual DOM æ ‘çš„å‡½æ•°ã€‚</li><li><strong>Mount</strong>ï¼Œæ‰§è¡Œ render functionï¼Œéå†è™šæ‹ŸDOM æ ‘ï¼Œç”ŸæˆçœŸæ­£çš„ DOM èŠ‚ç‚¹ã€‚</li><li><strong>Patch</strong>ï¼Œå½“ç»„ä»¶ä¸­ä»»ä½•å“åº”å¼å¯¹è±¡ï¼ˆä¾èµ–ï¼‰å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œ ã€‚ç”Ÿæˆæ–°çš„è™šæ‹ŸèŠ‚ç‚¹æ ‘ï¼ŒVue å†…éƒ¨ä¼šéå†æ–°çš„è™šæ‹ŸèŠ‚ç‚¹æ ‘ï¼Œå’Œæ—§çš„æ ‘åšå¯¹æ¯”ï¼Œç„¶åæ‰§è¡Œ<strong>å¿…è¦</strong>çš„æ›´æ–°ã€‚</li></ul><p><img src="https://vuejs.org/assets/render-pipeline.03805016.png" class="lazy" data-srcset="https://vuejs.org/assets/render-pipeline.03805016.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg=="></p><h4 id="Render-function"><a href="#Render-function" class="headerlink" title="Render function"></a>Render function</h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨ main.ts ä¸­</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="comment">// è¿”å›</span></span><br><span class="line"><span class="title class_">Object</span></span><br><span class="line">  <span class="attr">components</span>: &#123;<span class="title class_">HelloWorld</span>: &#123;â€¦&#125;&#125;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span></span><br><span class="line">  <span class="attr">render</span>: Æ’ <span class="title function_">render</span>(_ctx, _cache, $props, $setup, $data, $options)</span><br><span class="line">  <span class="attr">setup</span>: Æ’ ()  </span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå§‹çš„ template</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;axyz&quot;</span>/&gt;</span></span></span><br><span class="line">  &#123;&#123; hello &#125;&#125;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template ä¼šè¢«è½¬æ¢æˆè¿™æ ·çš„ function</span></span><br><span class="line">  <span class="keyword">const</span> _component_HelloWorld = <span class="title function_">_resolveComponent</span>(<span class="string">&quot;HelloWorld&quot;</span>)!</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (<span class="title function_">_openBlock</span>(), <span class="title function_">_createElementBlock</span>(_Fragment, <span class="literal">null</span>, [</span><br><span class="line">    <span class="title function_">_createVNode</span>(_component_HelloWorld, &#123; <span class="attr">msg</span>: <span class="string">&quot;axyz&quot;</span> &#125;),</span><br><span class="line">    <span class="title function_">_createTextVNode</span>(<span class="string">&quot; &quot;</span> + <span class="title function_">_toDisplayString</span>(_ctx.<span class="property">hello</span>), <span class="number">1</span> <span class="comment">/* TEXT */</span>)</span><br><span class="line">  ], <span class="number">64</span> <span class="comment">/* STABLE_FRAGMENT */</span>))</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºVnodeä»¥åŠä½¿ç”¨Render-function"><a href="#åˆ›å»ºVnodeä»¥åŠä½¿ç”¨Render-function" class="headerlink" title="åˆ›å»ºVnodeä»¥åŠä½¿ç”¨Render function"></a>åˆ›å»ºVnodeä»¥åŠä½¿ç”¨Render function</h2><h4 id="åˆ›å»ºVnode"><a href="#åˆ›å»ºVnode" class="headerlink" title="åˆ›å»ºVnode"></a>åˆ›å»ºVnode</h4><p>hå’ŒcreateVnodeéƒ½å¯ä»¥åˆ›å»ºVnodeã€‚ä¸¤ä¸ªç”¨æ³•å·®ä¸å¤šï¼Œåè€…åç§°æ›´å½¢è±¡ã€‚</p><p>h æ˜¯ hyperscript çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯ â€œJavaScript that produces HTML (hypertext markup language)â€ï¼Œå¾ˆå¤š virtualDOM çš„å®ç°éƒ½ä½¿ç”¨è¿™ä¸ªå‡½æ•°åç§°ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; h, createVnode &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vnode = <span class="title function_">h</span>(</span><br><span class="line">  <span class="string">&#x27;div&#x27;</span>, <span class="comment">// type</span></span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="attr">class</span>: <span class="string">&#x27;bar&#x27;</span> &#125;, <span class="comment">// props</span></span><br><span class="line">  [</span><br><span class="line">    <span class="comment">/* children */</span></span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="å£°æ˜-Render-Function"><a href="#å£°æ˜-Render-Function" class="headerlink" title="å£°æ˜ Render Function"></a>å£°æ˜ Render Function</h4><p>å½“ä½¿ç”¨ composition API çš„æ—¶å€™ï¼Œåœ¨ setup å½“ä¸­ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ç€ç»™æ¨¡ç‰ˆä½¿ç”¨çš„æ•°æ®ï¼Œå½“è¦ä½¿ç”¨ render function çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> message = <span class="title function_">ref</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ template</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    message</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ render function</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨-JSX"><a href="#ä½¿ç”¨-JSX" class="headerlink" title="ä½¿ç”¨ JSX"></a><strong>ä½¿ç”¨ JSX</strong></h4><p>æ˜¯ h å‡½æ•°çš„ä¸€ç§è¯­æ³•ç³–ã€‚å¯ä»¥å°†è¿™ç§ç±»ä¼¼ HTML çš„è¯­æ³•è½¬æ¢æˆ h å‡½æ•°çš„å†™æ³•ã€‚</p><p>æ·»åŠ JSXæ”¯æŒï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vue add babel</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º vnode</span></span><br><span class="line"><span class="keyword">const</span> vnode = <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="comment">// ä½¿ç”¨å˜é‡</span></span><br><span class="line"><span class="keyword">const</span> vnode = <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#123;dynamicId&#125;</span>&gt;</span>hello, &#123;userName&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>tsæ–‡ä»¶è¦å°†åç¼€åæ”¹ä¸º<strong>tsx</strong>æ‰èƒ½ä½¿ç”¨è¿™ç§è¯­æ³•ã€‚</p><p>js&#x3D;&gt;jsx</p><h2 id="å°†ç»„ä»¶æ”¹ä¸ºå‡½æ•°è°ƒç”¨å½¢å¼å¹¶ä½¿ç”¨hå‡½æ•°"><a href="#å°†ç»„ä»¶æ”¹ä¸ºå‡½æ•°è°ƒç”¨å½¢å¼å¹¶ä½¿ç”¨hå‡½æ•°" class="headerlink" title="å°†ç»„ä»¶æ”¹ä¸ºå‡½æ•°è°ƒç”¨å½¢å¼å¹¶ä½¿ç”¨hå‡½æ•°"></a>å°†ç»„ä»¶æ”¹ä¸ºå‡½æ•°è°ƒç”¨å½¢å¼å¹¶ä½¿ç”¨hå‡½æ•°</h2><p>åˆ›å»ºuseCreateMessage.tsxæ–‡ä»¶</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; h, render &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Message</span> <span class="keyword">from</span> <span class="string">&quot;../components/Message.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">MessageType</span> = <span class="string">&quot;error&quot;</span> | <span class="string">&quot;success&quot;</span> | <span class="string">&quot;default&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">useCreateMessage</span> = (<span class="params"></span></span><br><span class="line"><span class="params">  message: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">  <span class="keyword">type</span>: MessageType,</span></span><br><span class="line"><span class="params">  timeout?: <span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>) =&gt; &#123;  </span><br><span class="line">  <span class="comment">// Messageï¼šè¦æ¸²æŸ“çš„ç»„ä»¶ï¼Œ&#123;message,type&#125;ï¼šéœ€è¦çš„props</span></span><br><span class="line">  <span class="keyword">const</span> messageVnode = <span class="title function_">h</span>(<span class="title class_">Message</span>, &#123;</span><br><span class="line">    message,</span><br><span class="line">    <span class="keyword">type</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//mountNodeè¦æŒ‚è½½çš„DOMèŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">const</span> mountNode = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(mountNode);</span><br><span class="line">  <span class="comment">//render functionå°†vnodeæ¸²æŸ“åˆ°ç‰¹å®šèŠ‚ç‚¹ã€‚</span></span><br><span class="line">  <span class="comment">//éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºvnodeï¼Œç¬¬äºŒä¸ªä¸ºéœ€è¦çš„domèŠ‚ç‚¹</span></span><br><span class="line">  <span class="title function_">render</span>(messageVnode, mountNode);</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">destory</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//åœ¨ç‰¹å®šçš„DOMèŠ‚ç‚¹ä¸Šå¸è½½ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnull</span></span><br><span class="line">    <span class="title function_">render</span>(<span class="literal">null</span>, mountNode);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mountNode);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">destory</span>();</span><br><span class="line">    &#125;, timeout);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å®ä¾‹ä¸ŠåŒ…æ‹¬destoryè¿™ä¸ªæ–¹æ³•ï¼Œæ— timeoutæ—¶å¯ä»¥ç”¨ç¨‹åºçš„æ–¹å¼æ¸…ç©ºæ‰</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    destory,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useCreateMessage;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é‡ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç»„ä»¶æ”¹ç”¨å‡½æ•°è°ƒç”¨å½¢å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä½¿ç”¨Vnodeç»„æˆVitrualDomï¼Œå¹¶ä½¿ç”¨render functionæ¸²æŸ“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;é€šç”¨é”™è¯¯å¤„ç†&quot;&gt;&lt;a href=&quot;#é€šç”¨é”™è¯¯</summary>
      
    
    
    
    
    <category term="typescript" scheme="https://kukupii.github.io/tags/typescript/"/>
    
    <category term="vue" scheme="https://kukupii.github.io/tags/vue/"/>
    
    <category term="zheye" scheme="https://kukupii.github.io/tags/zheye/"/>
    
    <category term="error" scheme="https://kukupii.github.io/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è§£å†³ç”¨æˆ·ç™»é™†å’Œæƒé™è®¤è¯ç›¸å…³é—®é¢˜</title>
    <link href="https://kukupii.github.io/2022/10/27/%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%94%A8%E6%88%B7%E7%99%BB%E9%99%86%E5%92%8C%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"/>
    <id>https://kukupii.github.io/2022/10/27/%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%94%A8%E6%88%B7%E7%99%BB%E9%99%86%E5%92%8C%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/</id>
    <published>2022-10-27T12:23:21.000Z</published>
    <updated>2022-11-17T08:42:38.668Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ€»é—®é¢˜ï¼š"><a href="#æ€»é—®é¢˜ï¼š" class="headerlink" title="æ€»é—®é¢˜ï¼š"></a>æ€»é—®é¢˜ï¼š</h2><ol><li><p>pinia æ€æ ·å‘é€postè¯·æ±‚</p></li><li><p>tokenæ˜¯ä»€ä¹ˆ</p></li><li><p>jwtçš„å·¥ä½œåŸç†</p></li><li><p>jwtå’Œsessionçš„åŒºåˆ«</p></li><li><p>SPAåº”ç”¨ä¸­æ€æ ·æŒä¹…åŒ–è·å–ç”¨æˆ·çš„çŠ¶æ€</p></li><li><p>é’ˆå¯¹ä¸åŒçš„è¯·æ±‚çš„æƒé™ç®¡ç†</p></li><li><p>æ€æ ·æ˜¾ç¤ºå…¨å±€æ•°æ®æ˜¾ç¤º</p></li></ol><h2 id="Piniaæ€æ ·å‘é€POSTè¯·æ±‚"><a href="#Piniaæ€æ ·å‘é€POSTè¯·æ±‚" class="headerlink" title="Piniaæ€æ ·å‘é€POSTè¯·æ±‚"></a>Piniaæ€æ ·å‘é€POSTè¯·æ±‚</h2><p>å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„useAuthStoreï¼Œåœ¨actionä¸­è¿›è¡ŒPOSTè¯·æ±‚ï¼Œä½¿ç”¨asyncå’Œawaitã€‚</p><blockquote><p><strong>Unlike getters,Â <code>actions</code>Â can be asynchronous</strong>, you canÂ <code>await</code>Â inside of actions any API call or even other actions!</p></blockquote><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">userLogin</span>(<span class="params">payload: LoginProps</span>) &#123;</span><br><span class="line">    <span class="comment">// POSTè¯·æ±‚</span></span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.<span class="title function_">post</span>(<span class="string">&quot;/user/login&quot;</span>, payload);</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><h2 id="Tokenæ˜¯ä»€ä¹ˆ"><a href="#Tokenæ˜¯ä»€ä¹ˆ" class="headerlink" title="Tokenæ˜¯ä»€ä¹ˆ"></a>Tokenæ˜¯ä»€ä¹ˆ</h2><p><strong>Tokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œï¼Œå½“ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªTokenä¾¿å°†æ­¤Tokenè¿”å›ç»™å®¢æˆ·ç«¯</strong>ï¼Œä»¥åå®¢æˆ·ç«¯åªéœ€å¸¦ä¸Šè¿™ä¸ªTokenå‰æ¥è¯·æ±‚æ•°æ®å³å¯ï¼Œæ— éœ€å†æ¬¡å¸¦ä¸Šç”¨æˆ·åå’Œå¯†ç ã€‚tokenå…¶å®è¯´çš„æ›´é€šä¿—ç‚¹å¯ä»¥å«æš—å·ï¼Œåœ¨ä¸€äº›æ•°æ®ä¼ è¾“ä¹‹å‰ï¼Œè¦å…ˆè¿›è¡Œæš—å·çš„æ ¸å¯¹ï¼Œä¸åŒçš„æš—å·è¢«æˆæƒä¸åŒçš„æ•°æ®æ“ä½œã€‚</p><blockquote><p>Tokenåœ¨è®¡ç®—æœºèº«ä»½è®¤è¯ä¸­æ˜¯<a href="https://baike.baidu.com/item/%E4%BB%A4%E7%89%8C/9716092?fromModule=lemma_inlink">ä»¤ç‰Œ</a>ï¼ˆä¸´æ—¶ï¼‰çš„æ„æ€ï¼Œåœ¨è¯æ³•åˆ†æä¸­æ˜¯æ ‡è®°çš„æ„æ€ã€‚ä¸€èˆ¬ä½œä¸ºé‚€è¯·ã€ç™»å½•ç³»ç»Ÿä½¿ç”¨ã€‚</p></blockquote><h2 id="jwtçš„å·¥ä½œåŸç†"><a href="#jwtçš„å·¥ä½œåŸç†" class="headerlink" title="jwtçš„å·¥ä½œåŸç†"></a>jwtçš„å·¥ä½œåŸç†</h2><p>åœ¨jwtå·¥ä½œåŸç†ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ä¸¤ä¸ªæƒé™è®¤è¯çš„é€”å¾„ã€‚ç¬¬ä¸€ä¸ªæ˜¯åŸºäºcookieå’Œsessionçš„ç™»å½•éªŒè¯ï¼Œå¦ä¸€ä¸ªæ˜¯åŸºäºtokenå’Œjwtçš„ã€‚</p><h4 id="webåº”ç”¨ä¸­ä¸¤ä¸ªæƒé™è®¤è¯çš„é€”å¾„ï¼š"><a href="#webåº”ç”¨ä¸­ä¸¤ä¸ªæƒé™è®¤è¯çš„é€”å¾„ï¼š" class="headerlink" title="webåº”ç”¨ä¸­ä¸¤ä¸ªæƒé™è®¤è¯çš„é€”å¾„ï¼š"></a>webåº”ç”¨ä¸­ä¸¤ä¸ªæƒé™è®¤è¯çš„é€”å¾„ï¼š</h4><p>ä¸€ã€<strong>åŸºäºcookieå’Œsessionçš„ç™»é™†éªŒè¯ï¼ˆclassicï¼‰ï¼ˆæœ‰çŠ¶æ€ï¼‰</strong></p><p>cookieï¼šå­˜å‚¨åœ¨å®¢æˆ·ç«¯ã€ä¸å¯è·¨åŸŸã€‚</p><p>sessionï¼š</p><ul><li>session æ˜¯å¦ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶</li><li>session æ˜¯åŸºäº cookie å®ç°çš„ï¼Œsession å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ŒsessionId ä¼šè¢«å­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„cookie ä¸­</li></ul><p>å…·ä½“æµç¨‹ï¼š</p><p>Â Â Â  <img title="" src="file:///C:/Users/15810/Desktop/QQå›¾ç‰‡20221027205357.png" class="lazy" data-srcset="file:///C:/Users/15810/Desktop/QQå›¾ç‰‡20221027205357.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="" width="578"></p><ol><li><p>å®¢æˆ·ç«¯å‘é€ç™»é™†è¯·æ±‚</p></li><li><p>æœåŠ¡å™¨åˆ›å»ºsessionï¼Œå¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­</p></li><li><p>æœåŠ¡å™¨ä¸ºç”¨æˆ·ç”Ÿæˆä¸€ä¸ªsessionIdï¼Œå°†å…·æœ‰sesssionIdçš„Cookieå°†æ”¾ç½®åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­</p></li><li><p>åœ¨åç»­è¯·æ±‚ä¸­ï¼Œä¼šæ ¹æ®æ•°æ®åº“éªŒè¯sessionIDï¼Œå¦‚æœæœ‰æ•ˆï¼Œåˆ™æ¥å—è¯·æ±‚</p></li><li><p>ä¸€æ—¦ç”¨æˆ·æ³¨é”€åº”ç”¨ç¨‹åºï¼Œä¼šè¯å°†åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¢«é”€æ¯</p></li></ol><p>**äºŒã€ <strong>åŸºäºtokenå’Œjwtçš„æƒé™è®¤è¯ï¼ˆpopular)ï¼ˆæ— çŠ¶æ€ï¼‰</strong></p><p>Â Â Â Â å…·ä½“æµç¨‹ï¼š</p><p>Â Â Â Â <img src="file:///C:/Users/15810/Desktop/@F@%4R$NHSSDMSC22]$9O9.png" class="lazy" data-srcset="file:///C:/Users/15810/Desktop/@F@%4R$NHSSDMSC22]$9O9.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" title="" alt="" width="591"></p><p>1.å®¢æˆ·ç«¯å‘é€ç™»é™†è¯·æ±‚</p><p>2.æœåŠ¡å™¨æ¥æ”¶åä½¿ç”¨jwtç®—æ³•ç”Ÿæˆå¯¹åº”çš„tokenï¼Œå¹¶è¿”å›å®¢æˆ·ç«¯ã€‚</p><p>3.å®¢æˆ·ç«¯å­˜å‚¨tokenï¼Œå¹¶åœ¨ä¹‹åçš„æ¯æ¬¡æƒé™è¯·æ±‚æŠŠtokenæ”¾åœ¨headerä¸­ã€‚</p><p>4.æœåŠ¡å™¨åå‘éªŒè¯è¿”å›çš„tokenï¼ŒéªŒè¯æˆåŠŸåˆ™è¿”å›è¯·æ±‚çš„æ•°æ®ã€‚</p><h4 id="jwtè¯¦è§£"><a href="#jwtè¯¦è§£" class="headerlink" title="jwtè¯¦è§£"></a>jwtè¯¦è§£</h4><p>Â Â Â Â 1.æ¦‚å¿µï¼š</p><blockquote><p>JWT ï¼ˆJSON Web Tokenï¼‰ æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ç§åŸºäº Token çš„è®¤è¯æˆæƒæœºåˆ¶ã€‚ ä» JWT çš„å…¨ç§°å¯ä»¥çœ‹å‡ºï¼ŒJWT æœ¬èº«ä¹Ÿæ˜¯ Tokenï¼Œä¸€ç§è§„èŒƒåŒ–ä¹‹åçš„ JSON ç»“æ„çš„ Tokenã€‚</p></blockquote><p>Â Â Â Â 2.ç»„æˆéƒ¨åˆ†</p><p>Â Â Â Â Â Â JWT æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç»„å­—ä¸²ï¼Œé€šè¿‡ï¼ˆ<code>.</code>ï¼‰åˆ‡åˆ†æˆä¸‰ä¸ªä¸º Base64 ç¼–ç çš„éƒ¨åˆ†ï¼š</p><ul><li><strong>Header</strong>Â : æè¿° JWT çš„å…ƒæ•°æ®ï¼Œå®šä¹‰äº†ç”Ÿæˆç­¾åçš„ç®—æ³•ä»¥åŠÂ <code>Token</code>Â çš„ç±»å‹ã€‚</li><li><strong>Payload</strong>Â : ç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®</li><li><strong>Signatureï¼ˆç­¾åï¼‰</strong>Â ï¼šæœåŠ¡å™¨é€šè¿‡ Payloadã€Header å’Œä¸€ä¸ªå¯†é’¥(Secret)ä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ç”Ÿæˆã€‚</li></ul><p>Â Â Â Â JWT é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š<code>xxxxx.yyyyy.zzzzz</code>ã€‚</p><p>Â Â Â Â 3.è§£ç ç½‘ç«™ï¼š<a href="https://jwt.io/">https://jwt.io/</a></p><p>Â Â Â Â <img src="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/QQå›¾ç‰‡20221027212147.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/QQå›¾ç‰‡20221027212147.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" title="" alt="" width="600"></p><h2 id="jwtå’Œsessionçš„åŒºåˆ«"><a href="#jwtå’Œsessionçš„åŒºåˆ«" class="headerlink" title="jwtå’Œsessionçš„åŒºåˆ«"></a>jwtå’Œsessionçš„åŒºåˆ«</h2><p>Â Â Â Â 1.æœ¬èº«å«ä¹‰ï¼š</p><p>Â Â Â Â <code>jwt</code>æœ¬èº«åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼›<code>Session</code>ä¼ é€’çš„sessionIdè™½ç„¶æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„å­—ç¬¦ä¸²ï¼Œä½†å®ƒæœ¬èº«å¹¶æ²¡æœ‰ä»»ä½•å«ä¹‰ã€‚</p><p>Â Â Â Â 2.ç”¨æˆ·çš„çŠ¶æ€ä¿å­˜çš„ä½ç½®ï¼š</p><p>Â Â Â Â sessionæ˜¯ä¿å­˜åœ¨æœåŠ¡ç«¯çš„ï¼Œè€Œjwtæ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ã€‚</p><h2 id="SPAåº”ç”¨ä¸­å¦‚ä½•æŒä¹…åŒ–è·å–ç”¨æˆ·çš„çŠ¶æ€"><a href="#SPAåº”ç”¨ä¸­å¦‚ä½•æŒä¹…åŒ–è·å–ç”¨æˆ·çš„çŠ¶æ€" class="headerlink" title="SPAåº”ç”¨ä¸­å¦‚ä½•æŒä¹…åŒ–è·å–ç”¨æˆ·çš„çŠ¶æ€"></a>SPAåº”ç”¨ä¸­å¦‚ä½•æŒä¹…åŒ–è·å–ç”¨æˆ·çš„çŠ¶æ€</h2><p><strong>å®¢æˆ·ç«¯å­˜å‚¨çš„ä¸‰ç§æ–¹æ¡ˆ</strong></p><ul><li><p>cookieï¼šä¸æ”¯æŒè·¨åŸŸ</p></li><li><p>sessionStorageï¼šé¡µé¢å…³é—­ä¼šè¢«æ¸…é™¤</p></li><li><p>localStorageï¼šå¯ä»¥é•¿æœŸä¿å­˜</p></li></ul><p><strong>localStorageå®ç°æŒä¹…åŒ–çš„æµç¨‹</strong></p><p><img src="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/QQ%E5%9B%BE%E7%89%8720221027214350.png" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/QQ%E5%9B%BE%E7%89%8720221027214350.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg=="></p><p>å› æ­¤å®ç°ç™»é™†+æŒä¹…åŒ–çš„æ•´ä¸ªæµç¨‹å¦‚ä¸‹</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store.ts / action</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">userLogin</span>(<span class="params">payload: LoginProps</span>) &#123;</span><br><span class="line">      <span class="comment">//æäº¤ä¿¡æ¯ç™»é™†</span></span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.<span class="title function_">post</span>(<span class="string">&quot;/user/login&quot;</span>, payload);</span><br><span class="line">      <span class="comment">//ä¿¡æ¯æ­£ç¡®</span></span><br><span class="line">      <span class="keyword">if</span> (data.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//è·å–token</span></span><br><span class="line">        <span class="keyword">const</span> &#123; token &#125; = data.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">//å‚¨å­˜token</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">token</span> = token;</span><br><span class="line">        <span class="comment">//æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, token);</span><br><span class="line">        <span class="comment">//åˆ©ç”¨tokenè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">fetchCurrentUser</span>();</span><br><span class="line">        <span class="comment">//è¿”å›ä¸€ä¸ªpromiseï¼Œä»¥ä¾¿catché”™è¯¯</span></span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">fetchCurrentUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> token = <span class="variable language_">this</span>.<span class="property">token</span>;</span><br><span class="line">      <span class="keyword">if</span> (token !== <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">//axiosè®¾ç½®é€šç”¨headerï¼Œä»¥ä¾¿å…¶ä»–æ“ä½œè·å–æƒé™</span></span><br><span class="line">        axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">common</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>;</span><br><span class="line">        <span class="comment">//è·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&quot;/user/current&quot;</span>);</span><br><span class="line">        <span class="comment">//æ˜¾ç¤ºåœ¨ç•Œé¢</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">currentUser</span> = &#123; <span class="attr">isLogin</span>: <span class="literal">true</span>, ...data.<span class="property">data</span> &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">/</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//login.vueä¸­</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleSubmit</span>(<span class="params">result: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result&quot;</span> + result);</span><br><span class="line">      <span class="keyword">if</span> (result) &#123;</span><br><span class="line">        <span class="keyword">const</span> payload = &#123;</span><br><span class="line">          <span class="attr">email</span>: emailVal.<span class="property">value</span>,</span><br><span class="line">          <span class="attr">password</span>: passwordVal.<span class="property">value</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        store</span><br><span class="line">          .<span class="title function_">userLogin</span>(payload)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">useCreateMessage</span>(<span class="string">&quot;ç™»é™†æˆåŠŸ 2ç§’åè·³è½¬é¦–é¡µ&quot;</span>, <span class="string">&quot;success&quot;</span>, <span class="number">2000</span>);</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              router.<span class="title function_">push</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">            &#125;, <span class="number">2000</span>);</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ€»é—®é¢˜ï¼š&quot;&gt;&lt;a href=&quot;#æ€»é—®é¢˜ï¼š&quot; class=&quot;headerlink&quot; title=&quot;æ€»é—®é¢˜ï¼š&quot;&gt;&lt;/a&gt;æ€»é—®é¢˜ï¼š&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;pinia æ€æ ·å‘é€postè¯·æ±‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tokenæ˜¯ä»€ä¹ˆ&lt;/p&gt;
&lt;/li&gt;
</summary>
      
    
    
    
    
    <category term="Auth" scheme="https://kukupii.github.io/tags/Auth/"/>
    
  </entry>
  
  <entry>
    <title>hexoä½¿ç”¨æ–¹æ³•å¤‡å¿˜å½•</title>
    <link href="https://kukupii.github.io/2022/10/26/hexo%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%A4%87%E5%BF%98%E5%BD%95/"/>
    <id>https://kukupii.github.io/2022/10/26/hexo%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%A4%87%E5%BF%98%E5%BD%95/</id>
    <published>2022-10-26T11:49:09.000Z</published>
    <updated>2022-11-17T08:11:24.896Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†é˜²æ­¢é‡æ¼”æ‚²å‰§ï¼ˆæŒ‡å› ä¸ºå¿˜è®°æ“ä½œè€Œç—›å¤±çš„ä¸Šä¸€ä¸ªåšå®¢ï¼‰ï¼Œè¿˜æ˜¯å†™ä¸€ç¯‡å° tips å¥½å™œã€‚</p><h2 id="hexo-å¸¸ç”¨æŒ‡ä»¤"><a href="#hexo-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="hexo å¸¸ç”¨æŒ‡ä»¤"></a>hexo å¸¸ç”¨æŒ‡ä»¤</h2><ol><li><p>æ–°å»ºæ–‡ç«  &#x3D;&gt; <code>hexo new å¸ƒå±€ &quot;æ–‡ç« å&quot;</code><br>å¸ƒå±€å¯ä»¥æ˜¯ <strong>post\draft\page</strong>;<br>å¦‚æœæ˜¯ post å¯ä»¥çœç•¥ï¼Œç›´æ¥ hexo new â€œæ–‡ç« åâ€</p></li><li><p>éƒ¨ç½²ä¸è°ƒè¯•</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo clean //æ¸…é™¤æœ¬åœ°ç”Ÿæˆçš„é™æ€é¡µé¢ï¼ˆpublicæ–‡ä»¶å¤¹ï¼‰</span><br><span class="line"></span><br><span class="line">$ hexo g //åœ¨æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢ï¼ˆç”Ÿæˆ public æ–‡ä»¶å¤¹ï¼‰</span><br><span class="line"></span><br><span class="line">$ hexo s //å¯åŠ¨æœ¬åœ°æœåŠ¡ localhostï¼Œé¢„è§ˆè°ƒè¯•</span><br><span class="line"></span><br><span class="line">$ hexo d //è¿œç¨‹éƒ¨ç½²ï¼ŒåŒæ­¥åˆ° github</span><br></pre></td></tr></table></figure></li></ol><h2 id="MarkDown-æ–‡ç« ç›¸å…³"><a href="#MarkDown-æ–‡ç« ç›¸å…³" class="headerlink" title="MarkDown æ–‡ç« ç›¸å…³"></a>MarkDown æ–‡ç« ç›¸å…³</h2><ol><li>æ–‡ç« é…ç½®<br>tags:[tag1, tag2]</li><li>æ–‡ç« æŠ˜å <br>åœ¨æ–‡ç« ä¸­ä½¿ç”¨æœ¬æ’ä»¶ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% fold æŠ˜å æ‘˜è¦ %&#125;</span><br><span class="line"></span><br><span class="line">Â Â Â Â è‡ªå®šä¹‰æ­£æ–‡</span><br><span class="line"></span><br><span class="line">&#123;% endfold %&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å¸Œæœ›æŸä¸€æŠ˜å æ¡†é»˜è®¤å±•å¼€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% fold open, æŠ˜å æ‘˜è¦ %&#125;</span><br><span class="line"></span><br><span class="line">Â Â Â Â è‡ªå®šä¹‰æ­£æ–‡</span><br><span class="line"></span><br><span class="line">&#123;% endfold %&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>æ–‡ç« æ ‡ç­¾æ’ä»¶</p><p>åœ¨æ–‡ç« ä¸­ä½¿ç”¨æ­¤æ’ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note [ type ] è‡ªå®šä¹‰å°æ ‡é¢˜ %&#125;</span><br><span class="line">è‡ªå®šä¹‰æ­£æ–‡</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­Â <code>[ type ]</code>Â å¯é€‰å¡«ï¼š<code>info</code>ã€<code>important</code>ã€<code>tip</code>ã€<code>caution</code>ã€<code>warning</code>ï¼Œåˆ†åˆ«å¯¹åº” 5 ç§æ ·å¼ã€‚</p></li></ol><h2 id="Markdownè¯­æ³•"><a href="#Markdownè¯­æ³•" class="headerlink" title="Markdownè¯­æ³•"></a>Markdownè¯­æ³•</h2><ol><li><p>æ ‡é¢˜ç”¨#ï¼Œå‡ ä¸ª#è¡¨ç¤ºå‡ çº§æ ‡é¢˜ã€‚  </p><p>åˆ†å‰²çº¿ï¼ˆæ—©æœŸè´´å§ç©å®¶ç‹‚å–œï¼‰</p><p>Â Â Â Â ä¸‰ä¸ª__: </p><hr><p><strong>åŠ ç²—</strong>ï¼ˆ**ï¼‰ï¼Œ_æ–œä½“_ï¼ˆ__ï¼‰,<del>åˆ é™¤çº¿</del>ï¼ˆ~~)  </p></li><li><p>é“¾æ¥</p></li></ol><p>Â Â Â Â Â Â Â Â Autolinks:Â insideÂ <code>&lt;</code>Â andÂ <code>&gt;</code></p><p>Â Â Â Â Â Â Â Â <a href="https://kukupii.github.io/">https://kukupii.github.io/</a></p><p>Â Â Â Â Â Â Â Â Inline links:<code>[Assemble](http://assemble.io)</code></p><p>Â Â Â  Â Â Â Â <a href="https://kukupii.github.io/">LoploopBlog</a></p><ol start="3"><li>å›¾ç‰‡</li></ol><p>Â Â Â Â <img title="" src="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/avatar.jpg" class="lazy" data-srcset="https://cdn.jsdelivr.net/gh/kukupii/ImgBed-Rep/img/avatar.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="" width="430"></p><p>ï¼ˆå¯ä»¥æ˜¾ç¤ºå— æˆ‘è‰ç±³ç±³çš„ çœ‹ä¸åˆ°çš„äºå¤§äº†ï¼</p><p>ï¼ˆæ–¹æ³•ï¼šä½¿ç”¨çš„github+PicGo+jsDelivrï¼Œæ–¹ä¾¿çš„ä¸€åŒ¹ï¼</p><ol start="4"><li><p>å¼•ç”¨ï¼šÂ useÂ <code>&gt;</code>Â before any text you want to quote, can also be nested, means use multiple &gt;.</p><blockquote><p>Dancing like nobody is watching you.</p></blockquote></li><li><p>Todo List</p><ul><li><p><input disabled="" type="checkbox"> Hello.</p></li><li><p><input disabled="" type="checkbox"> I think this point is toooo bigggg!</p></li><li><p><input disabled="" type="checkbox"> and in a wrong position.</p></li><li><p><input disabled="" type="checkbox"> <a href="#special">special</a></p></li><li><p><input disabled="" type="checkbox"> upper one is special cuz it has a link.</p><p>normal:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- [ ] Lorem ipsum dolor sit amet</span><br><span class="line">- [ ] Consectetur adipiscing elit</span><br><span class="line">- [ ] Integer molestie lorem at massa</span><br></pre></td></tr></table></figure><p>Links in todo lists:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- [ ] [foo](#bar)</span><br><span class="line">- [ ] [baz](#qux)</span><br><span class="line">- [ ] [fez](#faz)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Table</p><p>Iâ€™m tired nowâ€¦ when I need use it I will know its usage.</p><p>Soâ€¦ bye~</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸ºäº†é˜²æ­¢é‡æ¼”æ‚²å‰§ï¼ˆæŒ‡å› ä¸ºå¿˜è®°æ“ä½œè€Œç—›å¤±çš„ä¸Šä¸€ä¸ªåšå®¢ï¼‰ï¼Œè¿˜æ˜¯å†™ä¸€ç¯‡å° tips å¥½å™œã€‚&lt;/p&gt;
&lt;h2 id=&quot;hexo-å¸¸ç”¨æŒ‡ä»¤&quot;&gt;&lt;a href=&quot;#hexo-å¸¸ç”¨æŒ‡ä»¤&quot; class=&quot;headerlink&quot; title=&quot;hexo å¸¸ç”¨æŒ‡ä»¤&quot;&gt;&lt;/a&gt;hexo å¸¸ç”¨æŒ‡ä»¤</summary>
      
    
    
    
    
    <category term="hexo" scheme="https://kukupii.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript çŸ¥è¯†ç‚¹æ€»ç»“Part.1</title>
    <link href="https://kukupii.github.io/2022/10/25/TypeScript%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93Part.1/"/>
    <id>https://kukupii.github.io/2022/10/25/TypeScript%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93Part.1/</id>
    <published>2022-10-25T11:49:11.000Z</published>
    <updated>2022-10-26T11:28:08.921Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸå§‹æ•°æ®ç±»å‹å’Œ-Any-ç±»å‹"><a href="#åŸå§‹æ•°æ®ç±»å‹å’Œ-Any-ç±»å‹" class="headerlink" title="åŸå§‹æ•°æ®ç±»å‹å’Œ Any ç±»å‹"></a>åŸå§‹æ•°æ®ç±»å‹å’Œ Any ç±»å‹</h2><p><strong>åœ¨æ–°ç‰ˆçš„ ts ä¸­ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„é…ç½®æ˜¯ strictNullChecksï¼Œåœ¨æœ‰äº›ç¼–è¾‘å™¨ä¸­é»˜è®¤ä¸º trueã€‚å®ƒä¼šä¸¥æ ¼æ£€æŸ¥ null ä»¥åŠ undefined ç±»å‹ï¼Œå®ƒåªèƒ½èµ‹å€¼ç»™æœ¬èº«çš„ç±»å‹æˆ–è€… anyã€‚æ–‡æ¡£åœ¨æ­¤ï¼š<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html</a></strong></p><p>å¯ä»¥åœ¨ tsconfig.json å°†å®ƒè®¾ç½®ä¸º falseï¼Œå°±æ²¡æœ‰ä¸¥æ ¼æ£€æŸ¥äº†ã€‚è¿™ä¸ªå¯ä»¥æŒ‰ç…§è‡ªå·±çš„å–œå¥½ï¼Œå¼€å¯æˆ–è€…å…³é—­ã€‚</p><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹ :"></a>æ•°æ®ç±»å‹ :</h3><ul><li>åŸå§‹æ•°æ®ç±»å‹ booleanã€numberã€stringã€nullã€undefinedã€ Symbolã€BigIntã€‚</li><li>Object.</li></ul><h3 id="Any-ç±»å‹ï¼š"><a href="#Any-ç±»å‹ï¼š" class="headerlink" title="Any ç±»å‹ï¼š"></a>Any ç±»å‹ï¼š</h3><p>å¯ä»¥èµ‹ä»»ä½•ç±»å‹çš„å€¼ï¼Œä»»æ„å±æ€§ä»»æ„æ–¹æ³•ã€‚</p><p>æœ‰æ˜ç¡®ç±»å‹æ—¶åº”é¿å…ä½¿ç”¨ anyã€‚</p><h2 id="æ•°ç»„å’Œå…ƒç»„"><a href="#æ•°ç»„å’Œå…ƒç»„" class="headerlink" title="æ•°ç»„å’Œå…ƒç»„"></a>æ•°ç»„å’Œå…ƒç»„</h2><ol><li><p>æ•°å­—æ•°ç»„ï¼š<br><code>let arrOfNum: number[] = [1,2,3];</code></p></li><li><p>array like objectï¼Œæ¯”å¦‚ arguments;</p></li><li><p>ä»»ä½•æ•°ç»„ï¼šany[];</p></li><li><p>å…ƒç»„ tupleï¼šåœ¨æ•°ç»„ä¸­åŠ å…¥ä¸åŒç±»å‹çš„æ•°æ®</p><p>èµ·æºäºå‡½æ•°å¼ç¼–ç¨‹</p><p>è¡¨è¿°å’Œæ•°ç»„éå¸¸ç±»ä¼¼ï¼›</p><p><code>let user:[string, number] = [&#39;kukupi&#39;,21];</code></p><p>å¤šåŠ ä¸€é¡¹æˆ–å†™é”™ç±»å‹éƒ½ä¼šæŠ¥é”™ï¼›</p><p>å…ƒç»„ä¸€å®šç¨‹åº¦ä¸Šé™å®šäº†æ•°æ®ç±»å‹ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ•°ç»„æ–¹æ³•ã€‚</p><p>å¯ä»¥ä½¿ç”¨ push å¢åŠ æ•°æ®ï¼Œä½†åªèƒ½å¢åŠ é™å®šçš„æ•°æ®ç±»å‹ä¸­çš„ã€‚</p><p><em>eg</em>: _é™å®šäº† string å’Œ numberï¼Œå°±ä¸èƒ½ push boolean å€¼_ã€‚</p><p>ä¸¤ç§ç±»å‹çš„æˆ–è€…å…³ç³»ç§°ä¹‹ä¸º<strong>è”åˆç±»å‹</strong>ã€‚</p></li></ol><h2 id="interface-æ¥å£"><a href="#interface-æ¥å£" class="headerlink" title="interface æ¥å£"></a><strong>interface æ¥å£</strong></h2><ol><li>describes the shape of object</li><li>Duck Typing: åŠ¨æ€ç¼–ç¨‹è¯­è¨€å¯¹è±¡æ¨æ–­ç­–ç•¥ï¼Œå…³æ³¨å¯¹è±¡å¦‚ä½•è¢«ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å¯¹è±¡ç±»å‹æœ¬èº«ã€‚</li></ol><p><strong>const å’Œ readonly åŒºåˆ«ï¼šconst ç”¨äº variable, readonly ç”¨äº attributeï¼›</strong></p><p>å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œä¸èƒ½å¤šä¸èƒ½å°‘ï¼Œé™¤äº†å¯é€‰å±æ€§ã€‚</p><h2 id="Function-å‡½æ•°"><a href="#Function-å‡½æ•°" class="headerlink" title="Function å‡½æ•°"></a>Function å‡½æ•°</h2><p>1. çº¦å®šå‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºã€‚</p><p>2. å¯é€‰å‚æ•°ï¼ˆä»¥?ä¸ºæ ‡è¯†ï¼‰åä¸èƒ½æœ‰ç¡®å®šå‚æ•°ã€‚</p><p>å‡½æ•°è¡¨è¾¾å¼ï¼š</p><p><code>const add = (x:number, y:number, z?:number):number =&gt; &#123;***&#125;</code></p><p>å¦‚æœç›´æ¥å°†å…¶ä»–å‡½æ•°å®šä¹‰ä¸ºæ­¤å‡½æ•°ç±»å‹ï¼Œè¾“å‡ºç±»å‹çš„ç¬¦å·è¦å˜æˆâ€œ&#x3D;&gt;â€ï¼Œå³</p><p><code>const add2:(x:number,y:number,z?:number)=&gt;number = add</code></p><p>æ›´ä¸ºç®€æ´çš„æ–¹æ³•æ˜¯å°†æ­¤å‡½æ•°ç±»å‹æ”¾åœ¨æ¥å£é‡Œï¼Œå¤šä¸ªå…¶ä»–å‡½æ•°ä½¿ç”¨æ­¤ç±»å‹å°±æ–¹ä¾¿å¾ˆå¤šï¼Œä¾‹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">interface IAdd = &#123;</span><br><span class="line">(x:number, y:number, z?:number):number</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ—¶ï¼š <code>const add2:IAdd = add</code></p><h2 id="ç±»å‹æ¨è®ºã€è”åˆç±»å‹å’Œç±»å‹æ–­è¨€"><a href="#ç±»å‹æ¨è®ºã€è”åˆç±»å‹å’Œç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ¨è®ºã€è”åˆç±»å‹å’Œç±»å‹æ–­è¨€"></a><strong>ç±»å‹æ¨è®ºã€è”åˆç±»å‹å’Œç±»å‹æ–­è¨€</strong></h2><p>typescript ä¼šåœ¨æ²¡æŒ‡å®šç±»å‹æ—¶è‡ªåŠ¨æ¨æ–­æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚</p><ol><li><strong><em>union types</em></strong></li></ol><p><code>let numberOrString: number | string;</code></p><p>åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„å…±æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</p><p><strong><em>2. ç±»å‹æ–­è¨€</em></strong></p><p>ç”¨<strong>as</strong>å…³é”®è¯ï¼›</p><p><strong><em>3. type guard ç±»å‹å®ˆå«</em></strong></p><p><strong>typeof</strong></p><h2 id="Enum-æšä¸¾"><a href="#Enum-æšä¸¾" class="headerlink" title="Enum æšä¸¾"></a>Enum æšä¸¾</h2><p>æœ‰ç‚¹ç±»ä¼¼ä¸ä¸€ç»„å¸¸é‡æ•°ç»„</p><p><strong>æ•°å­—æšä¸¾ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">Up,</span><br><span class="line">Down,</span><br><span class="line">Left,</span><br><span class="line">Right,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Direction.Up) // 0</span><br><span class="line">Direction[0] // Up</span><br></pre></td></tr></table></figure><p>æˆå‘˜ä¼šè¢«èµ‹å€¼ï¼Œé»˜è®¤ä» 0 å¼€å§‹ä¾æ¬¡é€’å¢çš„æ•°å­—ã€‚å¯ä»¥æ”¹å˜é»˜è®¤èµ·å§‹å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">Up = 10</span><br><span class="line">Down,</span><br><span class="line">Left,</span><br><span class="line">Right,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Direction.Down) // 11</span><br><span class="line">Direction[10] // Up</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ç±»ä¼¼æ•°ç»„è®¿é—®æˆå‘˜çš„æ–¹å¼åå‘è®¿é—®æšä¸¾æˆå‘˜çš„å±æ€§ åŒå‘æ˜ å°„</p><p><strong>å­—ç¬¦ä¸²æšä¸¾ï¼š</strong></p><p>æ¯ä¸€é¡¹æˆå‘˜æ‰‹åŠ¨èµ‹å€¼</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">Up = &#x27;UP&#x27;</span><br><span class="line">Down = &#x27;DOWN&#x27;</span><br><span class="line">Left = &#x27;LEFT&#x27;</span><br><span class="line">Right = &#x27;RIGHT&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Direction.up) // UP</span><br></pre></td></tr></table></figure><p>å¸¸é‡æšä¸¾å£°æ˜ï¼š<br><code>const enum Direction&#123;&#125;</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åŸå§‹æ•°æ®ç±»å‹å’Œ-Any-ç±»å‹&quot;&gt;&lt;a href=&quot;#åŸå§‹æ•°æ®ç±»å‹å’Œ-Any-ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;åŸå§‹æ•°æ®ç±»å‹å’Œ Any ç±»å‹&quot;&gt;&lt;/a&gt;åŸå§‹æ•°æ®ç±»å‹å’Œ Any ç±»å‹&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;åœ¨æ–°ç‰ˆçš„ ts ä¸­ï¼Œæœ‰ä¸€ä¸ªç‰¹</summary>
      
    
    
    
    
    <category term="typescript" scheme="https://kukupii.github.io/tags/typescript/"/>
    
  </entry>
  
</feed>
